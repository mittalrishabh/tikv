{
  "__inputs": [
    {
      "description": "",
      "label": "test-cluster",
      "name": "DS_TEST-CLUSTER",
      "pluginId": "prometheus",
      "pluginName": "Prometheus",
      "type": "datasource"
    }
  ],
  "annotations": {
    "list": []
  },
  "description": "",
  "editable": true,
  "gnetId": null,
  "graphTooltip": 1,
  "hideControls": false,
  "id": null,
  "links": [],
  "panels": [
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 1,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Write Pipeline Composition",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 2,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Write Raft Log-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Propose Wait-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Apply Wait-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Replicate Raft Log-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Apply Duration-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write Pipeline Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Read Duration Composition",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 3,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Get Snapshot-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Cop Wait-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Cop Handle-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cop Read Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Duration",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 4,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The storage size per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 5,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type = \"used\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type = \"used\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The available capacity size of each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 6,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"available\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"available\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Available size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The capacity size per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 7,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"capacity\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_store_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"capacity\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Capacity size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU usage of each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 8,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    process_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    process_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_server_cpu_cores_quota\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "quota-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_server_cpu_cores_quota\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The memory usage per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 9,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    process_resident_memory_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    process_resident_memory_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_server_memory_quota_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "quota-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_server_memory_quota_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The I/O utilization per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 10,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    node_disk_io_time_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{device}}",
              "metric": "",
              "query": "sum(rate(\n    node_disk_io_time_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "IO utilization",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total bytes of read and write in each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 11,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"wal_file_bytes\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-write",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"wal_file_bytes\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-read",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-in-memory-engine-read",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "MBps",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of leaders on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 12,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "QPS",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of the gRPC message failures",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 13,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-grpc-msg-fail",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_pd_heartbeat_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"noop\"}\n    [$__rate_interval]\n)) by (instance) < 1",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-pd-heartbeat",
              "metric": "",
              "query": "sum(delta(\n    tikv_pd_heartbeat_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"noop\"}\n    [$__rate_interval]\n)) by (instance) < 1",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_critical_error_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_critical_error_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Errps",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of leaders on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 14,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"leader\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"leader\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Leader",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of Regions and Buckets on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 15,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"buckets\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-buckets",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"buckets\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "TiKV uptime since the last restart",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 16,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(time() - ((\n    process_start_time_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(time() - ((\n    process_start_time_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",job=~\".*tikv\"}\n    \n))  )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Uptime",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Cluster",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 17,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 0.0,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 18,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_critical_error_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_critical_error_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 0.0,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Critical error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "\nIndicates occurrences of events that make the TiKV instance unavailable\ntemporarily, such as Write Stall, Channel Full, Scheduler Busy, and Coprocessor\nFull",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 19,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "scheduler-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_channel_full_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "channelfull-{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_channel_full_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"full\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "coprocessor-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"full\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write_stall_percentile99\",db=~\"$db\"}\n    \n)) by (instance, db) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "stall-{{instance}}-{{db}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write_stall_percentile99\",db=~\"$db\"}\n    \n)) by (instance, db) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_write_msg_block_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "store-write-channelfull-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_write_msg_block_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_process_busy\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_process_busy\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server is busy",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of reporting failure messages",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 20,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_report_failure_msg_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance, store_id) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}-to-{{store_id}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_report_failure_msg_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance, store_id) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server report failures",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of different raftstore errors on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 21,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status!~\"success|all\"}\n    [$__rate_interval]\n)) by (instance, status) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{status}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status!~\"success|all\"}\n    [$__rate_interval]\n)) by (instance, status) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raftstore error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of scheduler errors per type on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 22,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"snapshot_err|prepare_write_err\"}\n    [$__rate_interval]\n)) by (instance, stage) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{stage}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"snapshot_err|prepare_write_err\"}\n    [$__rate_interval]\n)) by (instance, stage) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of different coprocessor errors on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 23,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Coprocessor error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of gRPC message errors per type on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 24,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC message error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of dropped leaders per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 25,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"leader\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"leader\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Leader drop",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of missing leaders per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 26,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_leader_missing\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_leader_missing\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Leader missing",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "RocksDB damaged SST files",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 27,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_rocksdb_damaged_files\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-existed",
              "metric": "",
              "query": "((\n    tikv_rocksdb_damaged_files\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_rocksdb_damaged_files_deleted\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-deleted",
              "metric": "",
              "query": "((\n    tikv_rocksdb_damaged_files_deleted\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Damaged files",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of Log Replication Reject caused by follower memory insufficient",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 28,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_append_rejects\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_append_rejects\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Log Replication Rejected",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Errors",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 29,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The size of each column family",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 30,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CF size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of channel full errors on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 31,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_channel_full_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_channel_full_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Channel full",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of leaders being written on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 32,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_region_written_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_region_written_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Active written leaders",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 33,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Approximate region size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The approximate Region size",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 34,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_region_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_region_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_region_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_region_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_region_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_region_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_region_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Approximate region size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 35,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_region_written_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_region_written_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region written bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average rate of writing bytes to Regions per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 36,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_region_written_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_region_written_bytes_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_region_written_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_region_written_bytes_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region average written bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 37,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_region_written_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_region_written_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region written keys",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average rate of written keys to Regions per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 38,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_region_written_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_region_written_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_region_written_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_region_written_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region average written keys",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Bucketed histogram of clear overlap region duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 39,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_clear_overlap_region_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Clear overlap region duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The key size for every put of apply worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 40,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_apply_key_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_apply_key_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Written key size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 41,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_apply_value_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_apply_value_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Written value size for every put of apply worker",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of peers in hibernated state",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 42,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_hibernated_peer_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, state) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{state}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_hibernated_peer_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, state) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Hibernate Peers",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 43,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_server_mem_trace_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftstore-.*\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{name}}",
              "metric": "",
              "query": "((\n    tikv_server_mem_trace_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftstore-.*\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    raft_engine_memory_usage\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-raft-engine",
              "metric": "",
              "query": "((\n    raft_engine_memory_usage\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory trace",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 44,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raft_entries_evict_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raft_entries_evict_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft Entry Cache Evicts",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 45,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_address_resolve_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_address_resolve_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resolve address duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 1.0,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 46,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}-{{priority}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 1.0,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Thread Pool Schedule Wait Duration$optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average rate of written keys to Regions per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 1.0,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 47,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, $additional_groupby)  / sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}-{{priority}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, $additional_groupby)  / sum(rate(\n    tikv_yatp_pool_schedule_wait_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, priority, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 1.0,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Average Thread Pool Schedule Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 48,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_time\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_time\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_time\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "copr-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_time\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Disk IO time per second",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ns",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 49,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_byte\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_byte\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_byte\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "copr-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"block_read_byte\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Disk IO bytes per second",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ns",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Server",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 50,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different kinds of gRPC message",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 51,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{priority}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC message count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "reqps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different kinds of gRPC message which is failed",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 52,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_msg_fail_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC message failed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "reqps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The $optional_quantile of execution time of gRPC message",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 53,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_grpc_msg_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_grpc_msg_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_grpc_msg_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, priority, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{priority}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_grpc_msg_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"kv_gc\"}\n    [$__rate_interval]\n)) by (type, priority, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC message duration$optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average execution time of gRPC message",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 54,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_grpc_msg_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_grpc_msg_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_grpc_msg_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby)  / sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{priority}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_grpc_msg_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby)  / sum(rate(\n    tikv_grpc_msg_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, priority, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Average gRPC message duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The $optional_quantile of execution time of gRPC message",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 55,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_grpc_req_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "request-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_grpc_req_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_grpc_resp_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "response-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_grpc_resp_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_grpc_req_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_grpc_req_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg request {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_grpc_req_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_grpc_req_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_grpc_resp_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_grpc_resp_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg response {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_grpc_resp_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_grpc_resp_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_request_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "kv get batch-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_request_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_request_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_request_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg kv batch {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_request_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_request_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC batch size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 56,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_raft_message_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_raft_message_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_raft_message_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_raft_message_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_raft_message_batch_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_server_raft_message_batch_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "raft message batch size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The QPS of different sources of gRPC request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 57,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_request_source_counter_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (source, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{source}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_request_source_counter_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (source, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC request sources QPS",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of different sources of gRPC request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 58,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_request_source_duration_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (source, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{source}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_request_source_duration_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (source, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC request sources duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The QPS of different resource groups of gRPC request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 59,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_grpc_resource_group_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_grpc_resource_group_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC resource group QPS",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "gRPC",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 60,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total count of different kinds of commands received",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 61,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_command_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_command_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage command total",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of engine asynchronous request errors",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 62,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status!~\"all|success\"}\n    [$__rate_interval]\n)) by (status, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{status}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status!~\"all|success\"}\n    [$__rate_interval]\n)) by (status, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async request error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed by processing asynchronous write requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 63,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The storage async write duration",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 64,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed by processing asynchronous snapshot requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 65,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async snapshot duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The storage async snapshot duration",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 66,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async snapshot duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The storage async snapshot duration without the involving of raftstore",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 67,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async snapshot duration (pure local read)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The storage async snapshot duration without the involving of raftstore",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 68,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_local_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async snapshot duration (pure local read)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Read index propose wait duration associated with async snapshot",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 69,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read index propose wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Read index propose wait duration associated with async snapshot",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 70,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_propose_wait\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read index propose wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Read index confirm duration associated with async snapshot",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 71,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read index confirm duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Read index confirm duration associated with async snapshot",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 72,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot_read_index_confirm\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read index confirm duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "CPU usage measured over a 30 second window",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 73,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_storage_process_stat_cpu_usage\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_storage_process_stat_cpu_usage\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Process Stat Cpu Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 74,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_full_compact_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_full_compact_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_full_compact_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_full_compact_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Full compaction duration seconds",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 75,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_full_compact_pause_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Full compaction pause duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 76,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_full_compact_increment_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Full compaction per-increment duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The max_ts in the concurrency manager",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 77,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "tikv_concurrency_manager_max_ts_limit",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max_ts_limit",
              "metric": "",
              "query": "tikv_concurrency_manager_max_ts_limit",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "tikv_concurrency_manager_max_ts",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max_ts",
              "metric": "",
              "query": "tikv_concurrency_manager_max_ts",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Concurrency manager max-ts",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Storage",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 78,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 79,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_reject_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-reject-by-{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_reject_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Local reader reject requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 80,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_executed_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_executed_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_executed_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_executed_stale_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_executed_stale_read_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_executed_stale_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_executed_follower_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_executed_follower_read_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_executed_follower_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_received_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_received_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_received_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_received_stale_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_received_stale_read_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_received_stale_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_local_read_received_follower_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "tikv_raftstore_local_read_received_follower_read_requests {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_local_read_received_follower_read_requests\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Local reader read requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Local Reader",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 81,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of raftstore thread",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 82,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"(raftstore|rs)_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"(raftstore|rs)_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft store CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of async apply",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 83,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"apply_[0-9]+\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"apply_[0-9]+\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Async apply CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of store writer thread",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 0.8,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 84,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_write.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_write.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 0.8,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store writer CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of gRPC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 85,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"grpc.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"grpc.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "gRPC poll CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of scheduler worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 3.6,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 86,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 3.6,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of the unified read pool",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 7.2,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 87,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified_read_po.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified_read_po.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 7.2,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Unified read pool CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of RocksDB",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 88,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"rocksdb.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"rocksdb.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "RocksDB CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 89,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"gc_worker.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"gc_worker.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 90,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"region_worker.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"region_worker.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 91,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"snap_generator.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"snap_generator.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snap generator CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 92,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"background.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"background.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Background worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 93,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftlog_fetch.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftlog_fetch.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raftlog fetch worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 94,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 95,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"(backup-worker|bkwkr|backup_endpoint).*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"(backup-worker|bkwkr|backup_endpoint).*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 96,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cdcwkr.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-worker",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cdcwkr.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"tso\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-tso",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"tso\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cdc_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-endpoint",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cdc_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CDC worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of raftstore thread",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 97,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"tso_worker\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"tso_worker\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TSO worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of storage read pool",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 3.6,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 98,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_norm.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-normal",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_norm.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_high.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-high",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_high.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_low.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-low",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"store_read_low.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 3.6,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage read pool CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of coprocessor read pool",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "colorMode": "critical",
                    "fill": true,
                    "line": true,
                    "op": "gt",
                    "value": 7.2,
                    "yaxis": "left"
                  }
                ]
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 99,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_normal.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-normal",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_normal.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_high.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-high",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_high.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_low.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-low",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"cop_low.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 7.2,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Coprocessor read pool CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of IME threads",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 100,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"ime.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"ime.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"ime.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{name}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"ime.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "IME CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 101,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name!~\"rocksdb.*\"}\n    [$__rate_interval]\n)) by (instance, name) > 0.8\n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}-{{instance}}",
              "metric": "",
              "query": "topk(20,(\n    sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name!~\"rocksdb.*\"}\n    [$__rate_interval]\n)) by (instance, name) > 0.8\n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Busy Threads (>80%)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Thread CPU",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 102,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The throughput of disk write per IO type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 103,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"write\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"write\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write IO bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The throughput of disk read per IO type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 104,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"read\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"read\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_io_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=\"read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read IO bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The threshold of disk IOs per priority",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 105,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_rate_limiter_max_bytes_per_sec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_rate_limiter_max_bytes_per_sec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "IO threshold",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "IO rate limiter request wait duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 106,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_rate_limiter_request_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Rate Limiter Request Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "IO Breakdown",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 107,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed by processing asynchronous write requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 108,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_engine_async_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Storage async write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The store time duration of each request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 109,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The apply time duration of each request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 110,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_apply_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_apply_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_apply_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_apply_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when it is handled by Raftstore",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 111,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store propose wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when a batch of requests is formed and prepared to be proposed to Raft",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 112,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_batch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store batch wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to just before it is sent to the store writer thread",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 113,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_send_to_queue_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store send to write queue duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to just before it is sent to followers",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 114,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_send_proposal_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store send proposal duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when the batch's snapshot state is written to KV DB",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 115,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_write_kvdb_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write kv db end duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to just before it is written to Raft Engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 116,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_before_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store before write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when it is written to Raft Engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 117,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_write_end_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write end duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when its associated ready is persisted on the leader",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 118,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_persist_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store persist duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when it is committed; at the time of commit, it has not been persisted on the leader",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 119,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_commit_not_persist_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store commit but not persist duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Time from request scheduling to when it is committed; at the time of commit, it has been persisted on the leader",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 120,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_wf_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store commit and persist duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Waterfall",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 121,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RocksDB write operation when destroying a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 122,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer destroy kv write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RocksDB write operation when destroying a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 122,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_kv_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Peer destroy kv write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RaftEngine write operation when destroying a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 123,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer destroy raft write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RaftEngine write operation when destroying a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 124,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_destroy_raft_write\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Peer destroy raft write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete initializing raft state when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 125,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Init raft state",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete initializing raft state when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 126,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_raft_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Init raft state",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete initializing apply state when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 127,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Init apply state",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete initializing apply state when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 128,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"init_apply_state\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Init apply state",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RaftEngine read operation when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 129,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Entry storage create",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RaftEngine read operation when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 130,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"entry_storage_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Entry storage create",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to check region state when TiKV receives an message to non-exist regions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 131,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store check msg",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to check region state when TiKV receives an message to non-exist regions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 132,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"store_check_msg\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Store check msg",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to check stale merged regions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 133,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer check merge target stale",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to check stale merged regions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 134,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_check_merge_target_stale\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Peer check merge target stale",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RocksDB and RaftEngine read operation when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 135,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer maybe create",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete RocksDB and RaftEngine read operation when creating a peer",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 136,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_maybe_create\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Peer maybe create",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete a read requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 137,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer snapshot read",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete a read requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 138,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"peer_snapshot_read\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Peer snapshot read",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to handle raftstore v2 compatibility checking",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 139,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "V2 compatible learner",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to handle raftstore v2 compatibility checking",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 140,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"v2_compatible_learner\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% V2 compatible learner",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to get terms of raft logs by reading RaftEngine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 141,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft term",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to get terms of raft logs by reading RaftEngine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 142,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_term\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Raft term",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to fetch raft logs by reading RaftEngine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 77
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 143,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft fetch log",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to fetch raft logs by reading RaftEngine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 144,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_io_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_io_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_io_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason=\"raft_fetch_log\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Raft fetch log",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raftstore IO",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 145,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete processing a poll round, which includes a batch of region peers",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 146,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Process ready duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time taken by Raftstore to complete processing a poll round, which includes a batch of region peers",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 147,
=======
          "id": 123,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_raft_process_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_raft_process_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_raft_process_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Process ready duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time duration of store write loop when store-io-pool-size is not zero.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 148,
=======
          "id": 124,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write loop duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time duration of store write loop on each TiKV instance when store-io-pool-size is not zero.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 149,
=======
          "id": 125,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_write_loop_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Store write loop duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when Raft appends log",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 150,
=======
          "id": 126,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Append log duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when Raft appends log on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 151,
=======
          "id": 127,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_append_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_append_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_append_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_append_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_append_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_append_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_append_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Append log duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when Raft commits log",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 152,
=======
          "id": 128,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Commit log duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when Raft commits log on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 153,
=======
          "id": 129,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_commit_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Commit log duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when Raft applies log",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 154,
=======
          "id": 130,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply log duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed for Raft to apply logs per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 155,
=======
          "id": 131,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_apply_log_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Apply log duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed for Raft Client wait connection ready",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 156,
=======
          "id": 132,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft Client Wait Connection Ready Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed for Raft Client wait connection ready per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 157,
=======
          "id": 133,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{to}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{to}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_client_wait_ready_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_raft_client_wait_ready_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby)  / sum(rate(\n    tikv_server_raft_client_wait_ready_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{to}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_raft_client_wait_ready_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby)  / sum(rate(\n    tikv_server_raft_client_wait_ready_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_client_wait_ready_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{to}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_client_wait_ready_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (to, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Raft Client Wait Connection Ready Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The throughput of disk write per IO type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 158,
=======
          "id": 134,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_io_reschedule_region_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "rechedule-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_io_reschedule_region_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_io_reschedule_pending_tasks_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "pending-task-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_io_reschedule_pending_tasks_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store io task reschedule",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when store write task block on each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 159,
=======
          "id": 135,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_store_write_msg_block_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_store_write_msg_block_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write task block duration per server $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft IO",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 160,
=======
      "id": 136,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The proposal count of a Regions in a tick",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 161,
=======
          "id": 137,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_proposal_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_proposal_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft proposals per ready",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of proposals per type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 162,
=======
          "id": 138,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"local_read|normal|read_index\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"local_read|normal|read_index\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft read/write proposals",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of read proposals which are made by each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 163,
=======
          "id": 139,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"local_read|read_index\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"local_read|read_index\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft read proposals per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of write proposals which are made by each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 164,
=======
          "id": 140,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"normal\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"normal\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft write proposals per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each proposal",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 165,
=======
          "id": 141,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Propose wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each proposal in each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 166,
=======
          "id": 142,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_request_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Propose wait duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each store write task",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 167,
=======
          "id": 143,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each store write task in each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 168,
=======
          "id": 144,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_store_write_task_wait_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Store write wait duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each apply task",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 169,
=======
          "id": 145,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The wait time of each apply task in each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 170,
=======
          "id": 146,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_apply_wait_time_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Apply wait duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The handle duration of each store write task msg",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 171,
=======
          "id": 147,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_store_write_handle_msg_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_store_write_handle_msg_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write handle msg duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The distribution of write trigger size",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 172,
=======
          "id": 148,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_store_write_trigger_wb_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_store_write_trigger_wb_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store write trigger size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The rate at which peers propose logs",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 173,
=======
          "id": 149,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_propose_log_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_propose_log_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft propose speed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The rate at which peers propose logs",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 174,
=======
          "id": 150,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_store_perf_context_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "store-{{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_store_perf_context_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_perf_context_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "apply-{{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_apply_perf_context_time_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Perf Context duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Propose",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 175,
=======
      "id": 151,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different ready type of Raft",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 176,
=======
          "id": 152,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_ready_handled_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_ready_handled_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_process_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"ready\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Ready handled",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The max time consumed by raftstore events",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 177,
=======
          "id": 153,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999999,(\n    sum(rate(\n    tikv_raftstore_event_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999999,(\n    sum(rate(\n    tikv_raftstore_event_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999999,(\n    sum(rate(\n    tikv_broadcast_normal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "broadcast_normal {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999999,(\n    sum(rate(\n    tikv_broadcast_normal_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Max duration of raft store events",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Replica read lock checking duration",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 178,
=======
          "id": 154,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_replica_read_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_replica_read_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Replica read lock checking duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of fsm reschedule ops",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 179,
=======
          "id": 155,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_batch_system_fsm_reschedule_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_batch_system_fsm_reschedule_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Fsm reschedule ops",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Duration of store fsm waiting to be polled",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 180,
=======
          "id": 156,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_schedule_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_schedule_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store fsm schedule wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Duration of apply fsm waiting to be polled.e",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 181,
=======
          "id": 157,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_schedule_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_schedule_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply fsm schedule wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total time for an store FSM to finish processing all messages, potentially over multiple polling rounds.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 182,
=======
          "id": 158,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_poll_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_poll_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store fsm poll duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total time for an apply FSM to finish processing all messages, potentially over multiple polling rounds",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 183,
=======
          "id": 159,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_poll_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_poll_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply fsm poll duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Number of polling rounds for an store FSM to finish processing all messages",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 184,
=======
          "id": 160,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_poll_rounds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_poll_rounds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store fsm poll round",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Number of polling rounds for an apply FSM to finish processing all messages",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 185,
=======
          "id": 161,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_poll_rounds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_poll_rounds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply fsm poll round",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Number of store fsm polled in one poll",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 186,
=======
          "id": 162,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_count_per_poll_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_count_per_poll_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"store\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store fsm count per poll",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Number of apply fsm polled in one poll",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 187,
=======
          "id": 163,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_batch_system_fsm_count_per_poll_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_batch_system_fsm_count_per_poll_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply fsm count per poll",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The length of peer msgs for each round handling",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 188,
=======
          "id": 164,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_peer_msg_len_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_peer_msg_len_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer msg length distribution",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The length of apply msgs for each round handling",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 189,
=======
          "id": 165,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_raftstore_apply_msg_len_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_raftstore_apply_msg_len_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply msg length distribution",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of regions that enable apply unpersisted raft log",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 190,
=======
          "id": 166,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_raft_enable_unpersisted_apply_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_raft_enable_unpersisted_apply_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Enable apply unpersisted log region count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of raft logs between apply and persisted index",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 191,
=======
          "id": 167,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raft_apply_ahead_of_persist_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raft_apply_ahead_of_persist_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(1,(\n    sum(rate(\n    tikv_raft_apply_ahead_of_persist_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-max",
              "metric": "",
              "query": "histogram_quantile(1,(\n    sum(rate(\n    tikv_raft_apply_ahead_of_persist_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply ahead of persistence raft log count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Process",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 192,
=======
      "id": 168,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of Raft messages sent by each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 193,
=======
          "id": 169,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Sent messages per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of Raft messages flushed by each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 194,
=======
          "id": 170,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_message_flush_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_message_flush_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flush messages per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of Raft messages received by each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 195,
=======
          "id": 171,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_message_recv_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_message_recv_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Receive messages per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of different types of Raft messages that are sent",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 196,
=======
          "id": 172,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status=\"accept\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status=\"accept\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Messages",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of vote messages that are sent in Raft",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 197,
=======
          "id": 173,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"vote\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"vote\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Vote",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of dropped Raft messages per type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 198,
=======
          "id": 174,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_dropped_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_dropped_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status=\"drop\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",status=\"drop\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft dropped messages",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed waiting to send Raft Messages",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 199,
=======
          "id": 175,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft Message Send Wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed waiting to send Raft Messages per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 200,
=======
          "id": 176,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_raft_message_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_raft_message_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"send_wait\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Raft Message Send Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed to transmit Raft Messages over the network, reported by the receiver",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 201,
=======
          "id": 177,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft Message Receive Delay duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed to transmit Raft Messages over the network per TiKV instance, reported by the receiver",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 202,
=======
          "id": 178,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_server_raft_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_server_raft_message_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_server_raft_message_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_server_raft_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"receive_delay\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% Raft Message Receive Delay Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Message",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 203,
=======
      "id": 179,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of admin proposals",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 204,
=======
          "id": 180,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"conf_change|transfer_leader\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_proposal_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"conf_change|transfer_leader\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Admin proposals",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of the processed apply command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 205,
=======
          "id": 181,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_admin_cmd_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"compact\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_admin_cmd_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"compact\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Admin apply",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of raftstore split checks",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 206,
=======
          "id": 182,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_check_split_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"ignore\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_check_split_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"ignore\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Check split",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when running split check in .9999",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 207,
=======
          "id": 183,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_check_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_check_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99.99% Check split duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 208,
=======
          "id": 184,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_load_base_split_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_load_base_split_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Load base split event",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 209,
=======
          "id": 185,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.8,(\n    sum(rate(\n    tikv_load_base_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "80%-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.8,(\n    sum(rate(\n    tikv_load_base_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_load_base_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_load_base_split_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_load_base_split_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_load_base_split_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_load_base_split_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_load_base_split_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Load base split duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 210,
=======
          "id": 186,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_peer_in_flashback_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_peer_in_flashback_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Peer in Flashback State",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Admin",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 211,
=======
      "id": 187,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 212,
=======
          "id": 188,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log GC write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 213,
=======
          "id": 189,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_raft_log_kv_sync_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log GC kv sync duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 214,
=======
          "id": 190,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_log_gc_write_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log GC write operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 215,
=======
          "id": 191,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_log_gc_seek_operations_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_log_gc_seek_operations_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log GC seek operations ",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 216,
=======
          "id": 192,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_log_lag_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_log_lag_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log lag",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 217,
=======
          "id": 193,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_log_gc_skipped\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_log_gc_skipped\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log gc skipped",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 218,
=======
          "id": 194,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_raft_log_gc_failed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_raft_log_gc_failed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log GC failed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 219,
=======
          "id": 195,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_entry_fetches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_entry_fetches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log fetch ",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 220,
=======
          "id": 196,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/pending-task/",
              "bars": false,
              "fill": 1,
              "fillBelowTo": null,
              "lines": true,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_entry_fetches_task_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_worker_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftlog-fetch-worker\"}\n    \n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "pending-task {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_worker_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftlog-fetch-worker\"}\n    \n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft log async fetch task duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Log",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 221,
=======
      "id": 197,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of operations per second",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 222,
=======
          "id": 198,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_write_apply_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "write {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_write_apply_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_read_entry_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read_entry {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_read_entry_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_read_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read_message {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_read_message_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Operation",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time used in write operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 223,
=======
          "id": 199,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    raft_engine_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    raft_engine_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The I/O flow rate",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 224,
=======
          "id": 200,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_write_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "write {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_write_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_background_rewrite_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "rewrite-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_background_rewrite_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "$optional_quantile duration breakdown of write operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 225,
=======
          "id": 201,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_preprocess_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "wait-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_preprocess_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "wal-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_apply_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "apply-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_write_apply_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write Duration Breakdown $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The bytes per write",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 226,
=======
          "id": 202,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    raft_engine_write_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    raft_engine_write_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_write_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_write_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Bytes / Written",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "999% duration breakdown of WAL write operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 227,
=======
          "id": 203,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_write_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_write_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_sync_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "sync {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_sync_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_allocate_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "allocate {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_allocate_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_rotate_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "rotate {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999,(\n    sum(rate(\n    raft_engine_rotate_log_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "WAL Duration Breakdown (999%)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average number of files",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 228,
=======
          "id": 204,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    raft_engine_log_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    raft_engine_log_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    raft_engine_swap_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "swap {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    raft_engine_swap_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    raft_engine_recycled_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-recycle {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    raft_engine_recycled_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "File Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The $optional_quantile duration of operations other than write",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 229,
=======
          "id": 205,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_read_entry_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read_entry-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_read_entry_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_read_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read_message-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_read_message_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_purge_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "purge-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    raft_engine_purge_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Other Durations $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average number of log entries",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 230,
=======
          "id": 206,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    raft_engine_log_entry_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    raft_engine_log_entry_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Entry Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The compression ratio per write",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 231,
=======
          "id": 207,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_compression_ratio_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    raft_engine_write_compression_ratio_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_compression_ratio_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    raft_engine_write_compression_ratio_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    raft_engine_write_compression_ratio_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_compression_ratio_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    raft_engine_write_compression_ratio_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    raft_engine_write_compression_ratio_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    raft_engine_write_compression_ratio_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    raft_engine_write_compression_ratio_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write Compression Ratio",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Raft Engine",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 232,
=======
      "id": 208,
>>>>>>> 16354ff9f (follower read cache)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of get operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 233,
=======
          "id": 209,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "memtable {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=~\"block_cache_data_hit|block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "block_cache {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=~\"block_cache_data_hit|block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l0\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "l0 {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l0\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l1\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "l1 {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l1\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l2_and_up\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "l2_and_up {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_get_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_hit_l2_and_up\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Get operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing get operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 234,
=======
          "id": 210,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_get_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"get_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Get duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of seek operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 235,
=======
          "id": 211,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "seek {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_seek_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "seek_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_seek_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "next {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_next_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "next_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_next_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "prev {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_prev_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "prev_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"number_db_prev_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Seek operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing seek operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 236,
=======
          "id": 212,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_seek_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"seek_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Seek duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of write operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 237,
=======
          "id": 213,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=~\"write_done_by_self|write_done_by_other\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "done {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=~\"write_done_by_self|write_done_by_other\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_timeout\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "timeout {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_timeout\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_with_wal\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "with_wal {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_write_served\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_with_wal\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing write operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 238,
=======
          "id": 214,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of WAL sync operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 239,
=======
          "id": 215,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_wal_file_synced\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "sync {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_wal_file_synced\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "WAL sync operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing write wal operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 240,
=======
          "id": 216,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_wal_time_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_wal_micros_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write WAL duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The rate of completed compaction and flush operations (left axis) and the count of running operations (right axis).",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 241,
=======
          "id": 217,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/running-.*/",
              "bars": false,
              "fill": 1,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 2,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_event_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_event_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_num_running_compactions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "running-compactions {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_num_running_compactions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_num_running_flushes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "running-flushes {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_num_running_flushes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing WAL sync operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 242,
=======
          "id": 218,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_wal_file_sync_micro_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_sync_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "WAL sync duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Compaction guard actions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 243,
=======
          "id": 219,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_raftstore_compaction_guard_action_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=~\"default|write\"}\n    [$__rate_interval]\n)) by (cf,  type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-{{ type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_raftstore_compaction_guard_action_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=~\"default|write\"}\n    [$__rate_interval]\n)) by (cf,  type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction guard actions",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing the compaction and flush operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 244,
=======
          "id": 220,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_compaction_time\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"compaction_time_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "How many sst files are compacted in a compaction job",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 245,
=======
          "id": 221,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_num_files_in_single_compaction\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"num_files_in_single_compaction_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction Job Size(files)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when reading SST files",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 246,
=======
          "id": 222,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_sst_read_micros\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"sst_read_micros_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "SST read duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 247,
=======
          "id": 223,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_compaction_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (cf, reason, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-{{reason}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_compaction_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (cf, reason, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction reason",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The block cache size. Broken down by column family if shared block cache is disabled.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 248,
=======
          "id": 224,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    avg((\n    tikv_engine_block_cache_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, instance) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{cf}}",
              "metric": "",
              "query": "topk(20,(\n    avg((\n    tikv_engine_block_cache_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, instance) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Block cache size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The hit rate of memtable",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 249,
=======
          "id": 225,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "hit {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_memtable_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"memtable_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memtable hit",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The flow of different kinds of block cache operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 250,
=======
          "id": 226,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_byte_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total_read {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_byte_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_byte_write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total_written {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_byte_write\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "data_insert {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "filter_insert {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_bytes_evict\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "filter_evict {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_bytes_evict\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "index_insert {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_bytes_insert\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_bytes_evict\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "index_evict {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_bytes_evict\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Block cache flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The hit rate of block cache",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 251,
=======
          "id": 227,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "all {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "data {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "filter {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "index {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ) / ((sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ) + (sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filter_match\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filter_match\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "bloom prefix {{$additional_groupby}}",
              "metric": "",
              "query": "((sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ) / ((sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filtered\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ) + (sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"last_level_seek_filter_match\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_bloom_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"non_last_level_seek_filter_match\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )))",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Block cache hit",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The flow of different kinds of operations on keys",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 252,
=======
          "id": 228,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"keys_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"keys_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"keys_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "written {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"keys_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_compaction_num_corrupt_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "corrupt {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_compaction_num_corrupt_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Keys flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different kinds of block cache operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 253,
=======
          "id": 229,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total_add {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "data_add {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_data_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "filter_add {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_filter_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "index_add {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_index_add\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_add_failures\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "add_failures {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"block_cache_add_failures\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Block cache operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The flow rate of read operations per type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 254,
=======
          "id": 230,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "get {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"iter_bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "scan {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"iter_bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of keys in each column family",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 255,
=======
          "id": 231,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_estimate_num_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_estimate_num_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total keys",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The flow of different kinds of write operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 256,
=======
          "id": 232,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_bytes\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "wal {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"wal_file_bytes\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "write {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The bytes per read",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 257,
=======
          "id": 233,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_read\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_read_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Bytes / Read",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The flow rate of compaction operations per type",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 258,
=======
          "id": 234,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_compaction_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "read {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_compaction_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_read\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_compaction_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "written {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_compaction_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_written\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"flush_write_bytes\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "flushed {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"flush_write_bytes\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The bytes per write",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 259,
=======
          "id": 235,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_bytes_per_write\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"bytes_per_write_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Bytes / Write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The read amplification per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 260,
=======
          "id": 236,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_read_amp_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"read_amp_total_read_bytes\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_engine_read_amp_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"read_amp_estimate_useful_bytes\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_read_amp_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"read_amp_total_read_bytes\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_engine_read_amp_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"read_amp_estimate_useful_bytes\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read amplification",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The pending bytes to be compacted",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 261,
=======
          "id": 237,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction pending bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of snapshot of each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 98
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 262,
=======
          "id": 238,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_engine_num_snapshots\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_engine_num_snapshots\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Number of snapshots",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The compression ratio of each level",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 98
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 263,
=======
          "id": 239,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_compression_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, level, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-L{{level}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_compression_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, level, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compression ratio",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of SST files for different column families in each level",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 105
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 264,
=======
          "id": 240,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_num_files_at_level\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, level, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-L{{level}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_num_files_at_level\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n)) by (cf, level, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Number files at each level",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time that the oldest unreleased snapshot survivals",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 105
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 265,
=======
          "id": 241,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_engine_oldest_snapshot_duration\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_engine_oldest_snapshot_duration\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Oldest snapshots duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The level that the external file ingests into",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 112
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 266,
=======
          "id": 242,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_engine_ingestion_picked_level_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_engine_ingestion_picked_level_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Ingestion picked level",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Bucketed histogram of ingest external SST files duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 112
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 267,
=======
          "id": 243,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{cf}}-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{cf}}-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby)  / sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{cf}}-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby)  / sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{cf}}-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_ingest_external_file_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cf, type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Ingest SST duration seconds",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 119
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 268,
=======
          "id": 244,
>>>>>>> 16354ff9f (follower read cache)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_ingest_external_file_allow_write_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_ingest_external_file_allow_write_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Ingest SST allow_write",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 126
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 269,
=======
          "id": 245,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_write_stall_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_write_stall_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write Stall Reason",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time which is caused by write stall",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 126
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 270,
=======
          "id": 246,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_write_stall\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"write_stall_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write stall duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Stall conditions changed of each column family",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 133
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 271,
=======
          "id": 247,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_engine_stall_conditions_changed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{cf}}-{{type}}",
              "metric": "",
              "query": "((\n    tikv_engine_stall_conditions_changed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Stall conditions changed of each CF",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The memtable size of each column family",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 133
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 272,
=======
          "id": 248,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_memory_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"mem-tables-all\"}\n    \n)) by (cf, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_memory_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$db\",type=\"mem-tables-all\"}\n    \n)) by (cf, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memtable size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": "db",
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "RocksDB - $db",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 273,
=======
      "id": 249,
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 274,
=======
          "id": 250,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_titandb_num_live_blob_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "live blob file num {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_titandb_num_live_blob_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_titandb_num_obsolete_blob_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "obsolete blob file num {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_titandb_num_obsolete_blob_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 275,
=======
          "id": 251,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_titandb_live_blob_file_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "live blob file size {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_titandb_live_blob_file_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_titandb_obsolete_blob_file_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "obsolete blob file size {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_titandb_obsolete_blob_file_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The blob cache size.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 276,
=======
          "id": 252,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    avg((\n    tikv_engine_blob_cache_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by (cf, instance) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{cf}}",
              "metric": "",
              "query": "topk(20,(\n    avg((\n    tikv_engine_blob_cache_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by (cf, instance) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob cache size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The hit rate of block cache",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 277,
=======
          "id": 253,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "all {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / (sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_hit\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  + sum(rate(\n    tikv_engine_blob_cache_efficiency\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_cache_miss\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ))",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob cache hit",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 278,
=======
          "id": 254,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_iter_touch_blob_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_iter_touch_blob_file_count_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Iter touched blob file count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 279,
=======
          "id": 255,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_key_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_key_size_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob key size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 280,
=======
          "id": 256,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_value_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_value_size_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob value size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 281,
=======
          "id": 257,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_get\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "get {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_get\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob get operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 282,
=======
          "id": 258,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_get_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob get duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 283,
=======
          "id": 259,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_titandb_blob_file_discardable_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by (ratio, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ratio}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_titandb_blob_file_discardable_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    \n)) by (ratio, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file discardable ratio distribution",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 284,
=======
          "id": 260,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "seek {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "prev {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "next {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"number_blob_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob iter operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 285,
=======
          "id": 261,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_seek_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob seek duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 286,
=======
          "id": 262,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_next_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob next duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 287,
=======
          "id": 263,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_prev_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\".*_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob prev duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 288,
=======
          "id": 264,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"keys.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"keys.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob keys flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 289,
=======
          "id": 265,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_file_read_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_read_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file read duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 290,
=======
          "id": 266,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"bytes.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"bytes.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob bytes flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 291,
=======
          "id": 267,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_file_write_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_write_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 292,
=======
          "id": 268,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_file_synced\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "sync {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_file_synced\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file sync operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 293,
=======
          "id": 269,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_gc_action_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_gc_action_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC action",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 294,
=======
          "id": 270,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_file_sync_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_file_sync_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob file sync duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 295,
=======
          "id": 271,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_average\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_percentile95\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_percentile99\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_gc_micros_seconds\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_micros_max\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 296,
=======
          "id": 272,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_gc_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"keys.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_gc_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"keys.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC keys flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 297,
=======
          "id": 273,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_gc_input_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_input_file_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC input file size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 298,
=======
          "id": 274,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_gc_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"bytes.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_gc_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=~\"bytes.*\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC bytes flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 299,
=======
          "id": 275,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_average\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_average\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_percentile95\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "avg((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_percentile99\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_max\"}\n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_engine_blob_gc_output_file\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\",type=\"blob_gc_output_file_max\"}\n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC output file size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 300,
=======
          "id": 276,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_blob_gc_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_blob_gc_file_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"$titan_db\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blob GC file count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": "titan_db",
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Titan - $titan_db",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 301,
=======
      "id": 277,
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Operation per second for cf",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 302,
=======
          "id": 278,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_kv_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_kv_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "OPS",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total bytes of read in RocksDB and in-memory engine(the same with panel Cluster/MBps for read)",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 303,
=======
          "id": 279,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "rocksdb-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_engine_flow_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "in-memory-engine-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"bytes_read|iter_bytes_read\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read MBps",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when handling coprocessor requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 304,
=======
          "id": 280,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Coprocessor Handle duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Count of region cache hit",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 305,
=======
          "id": 281,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_memory_engine\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_memory_engine\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Cache Hit",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Region cache hit rate",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 306,
=======
          "id": 282,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_memory_engine\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "rate-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_memory_engine\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_snapshot_type_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Cache Hit Rate",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Reasons for region cache miss",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 307,
=======
          "id": 283,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_snapshot_acquire_failed_reason_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_snapshot_acquire_failed_reason_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Cache Miss Reason",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The memory usage of the in-memory engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 308,
=======
          "id": 284,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_in_memory_engine_memory_usage_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "avg((\n    tikv_in_memory_engine_memory_usage_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different types of region",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 309,
=======
          "id": 285,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_in_memory_engine_cache_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "avg((\n    tikv_in_memory_engine_cache_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Rang cache engine garbage collection information",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 310,
=======
          "id": 286,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_gc_filtered\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_gc_filtered\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC Filter",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The handle duration of region gc",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 311,
=======
          "id": 287,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_gc_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_gc_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region GC Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The handle duration of region load",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 312,
=======
          "id": 288,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_load_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_load_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Load Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of region loading per seconds",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 313,
=======
          "id": 289,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_in_memory_engine_load_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_in_memory_engine_load_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Load Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The handle duration of region eviction",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 314,
=======
          "id": 290,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_eviction_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_eviction_duration_secs_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Eviction Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of region eviction per seconds",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 315,
=======
          "id": 291,
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_in_memory_engine_eviction_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_in_memory_engine_eviction_duration_secs_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Eviction Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of region warmup per seconds",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 316,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_transfer_leader_warmup_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_transfer_leader_warmup_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Warmup Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed of write in region cache engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 317,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed of write in region cache engine per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 318,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% In-memory engine write duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed of prepare for write in the in-memory engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 56
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 319,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Prepare for write duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed of prepare for write in the in-memory engine per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 320,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_prepare_for_write_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99% In-memory engine prepare for write duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different type of iteration operations",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 321,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "seek {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_seek\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_seek_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "seek_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_seek_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "next {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_next\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_next_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "next_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_next_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "prev {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_prev\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_prev_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "prev_found {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_engine_locate\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"number_db_prev_found\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Iterator operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing seek operation",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 322,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(1,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "max {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(1,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.95,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "95% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.95,(\n    sum(rate(\n    tikv_in_memory_engine_seek_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_in_memory_engine_seek_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_seek_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_in_memory_engine_seek_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_in_memory_engine_seek_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Seek duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Unlike the auto gc safe point used for TiKV, the safe point for in-memory engine is per region and this is the oldest one",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 323,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_in_memory_engine_oldest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_in_memory_engine_oldest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Oldest Auto GC SafePoint",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "dateTimeAsIso",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Unlike the auto gc safe point used for TiKV, the safe point for in-memory engine is per region and this is the newest one",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 324,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_in_memory_engine_newest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_in_memory_engine_newest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Newest Auto GC SafePoint",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "dateTimeAsIso",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The gap between newest auto gc safe point and oldest auto gc safe point of regions cached in the in-memroy engine",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 325,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum((\n    tikv_in_memory_engine_newest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18) - sum((\n    tikv_in_memory_engine_oldest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18))",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum((\n    tikv_in_memory_engine_newest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18) - sum((\n    tikv_in_memory_engine_oldest_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18))",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Auto GC SafePoint Gap",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The gap between tikv auto gc safe point and in-memory engine oldest auto gc safe point",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 77
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 326,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_safe_point_gap_with_in_memory_engine\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_safe_point_gap_with_in_memory_engine\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Auto GC SafePoint Gap With TiKV",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Tthe number of coprocessor requests of cached regions that is observed during auto load and evict",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 84
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 327,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_cached_region_coprocessor_requests_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_cached_region_coprocessor_requests_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cached Region Coprocessor Requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Tthe MVCC amplification of cached regions that is observed during auto load and evict",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 84
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 328,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_cached_region_mvcc_amplification_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_cached_region_mvcc_amplification_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cached Region MVCC Amplification",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Tthe number of coprocessor requests of top regions that is observed during auto load and evict",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 91
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 329,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_top_region_coprocessor_requests_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_top_region_coprocessor_requests_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top Region Coprocessor Requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Tthe MVCC amplification of top regions that is observed during auto load and evict",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 91
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 330,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_top_region_mvcc_amplification_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_in_memory_engine_auto_load_evict_top_region_mvcc_amplification_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top Region MVCC Amplification",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "In Memory Engine",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
      "id": 331,
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 332,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_write_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "write-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_write_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_throttle_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance)  != 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "throttle-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_throttle_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance)  != 0",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
          "id": 333,
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_discard_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type)  / 10000000",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_discard_ratio\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type)  / 10000000",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler discard ratio",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
          "id": 334,
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_scheduler_throttle_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_scheduler_throttle_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Throttle duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 335,
=======
<<<<<<< HEAD
          "id": 310,
=======
          "id": 306,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_scheduler_throttle_cf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))   != 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{cf}}",
              "metric": "",
              "query": "((\n    tikv_scheduler_throttle_cf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))   != 0",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler throttled CF",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 336,
=======
<<<<<<< HEAD
          "id": 311,
=======
          "id": 307,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_throttle_action_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, cf, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{cf}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_throttle_action_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, cf, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flow controller actions",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 337,
=======
<<<<<<< HEAD
          "id": 312,
=======
          "id": 308,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_l0_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, cf) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}_l0_flow-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_l0_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, cf) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_flush_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, cf) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}_flush_flow-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_flush_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, cf) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_l0_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total_l0_flow-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_l0_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_flush_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total_flush_flow-{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_flush_flow\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flush/L0 flow",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 338,
=======
<<<<<<< HEAD
          "id": 313,
=======
          "id": 309,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_scheduler_l0\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "l0-{{instance}}",
              "metric": "",
              "query": "max((\n    tikv_scheduler_l0\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_scheduler_memtable\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "memtable-{{instance}}",
              "metric": "",
              "query": "max((\n    tikv_scheduler_memtable\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_scheduler_l0_avg\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg_l0-{{instance}}",
              "metric": "",
              "query": "max((\n    tikv_scheduler_l0_avg\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flow controller factors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 339,
=======
<<<<<<< HEAD
          "id": 314,
=======
          "id": 310,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_engine_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"kv\"}\n    \n)) by (cf, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_engine_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",db=\"kv\"}\n    \n)) by (cf, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (cf, $additional_groupby)  / 10000000",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "pending-bytes {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_pending_compaction_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (cf, $additional_groupby)  / 10000000",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Compaction pending bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Throttle time for txn storage commands in 1 minute.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 340,
=======
<<<<<<< HEAD
          "id": 315,
=======
          "id": 311,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_txn_command_throttle_time_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_txn_command_throttle_time_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Txn command throttled duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Throttle time for non-txn related processing like analyze or dag in 1 minute.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 341,
=======
<<<<<<< HEAD
          "id": 316,
=======
          "id": 312,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_non_txn_command_throttle_time_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_non_txn_command_throttle_time_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Non-txn command throttled duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Flow Control",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 342,
=======
<<<<<<< HEAD
      "id": 317,
=======
      "id": 313,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of commands on each stage",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 343,
=======
<<<<<<< HEAD
          "id": 318,
=======
          "id": 314,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{stage}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{stage}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler stage total",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of different priority commands",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 344,
=======
<<<<<<< HEAD
          "id": 319,
=======
          "id": 315,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_commands_pri_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (priority, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{priority}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_commands_pri_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (priority, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler priority commands",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of pending commands per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 345,
=======
<<<<<<< HEAD
          "id": 320,
=======
          "id": 316,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_contex_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_contex_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler pending commands",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of running commands per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 346,
=======
<<<<<<< HEAD
          "id": 321,
=======
          "id": 317,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_running_commands\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_running_commands\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler running commands",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total writing bytes of commands on each stage",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 347,
=======
<<<<<<< HEAD
          "id": 322,
=======
          "id": 318,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_writing_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_writing_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler writing bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of bytes used by scheduler",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 348,
=======
<<<<<<< HEAD
          "id": 323,
=======
          "id": 319,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_memory_quota_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_use\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_memory_quota_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"in_use\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_scheduler_memory_quota_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"capacity\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_scheduler_memory_quota_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"capacity\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler memory quota",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 349,
=======
<<<<<<< HEAD
          "id": 324,
=======
          "id": 320,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Txn Scheduler Pool Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Scheduler",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 350,
=======
<<<<<<< HEAD
      "id": 325,
=======
      "id": 321,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time used by each level in the yatp thread pool per second. Level 0 refers to small queries.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 351,
=======
<<<<<<< HEAD
          "id": 326,
=======
          "id": 322,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_multilevel_level_elapsed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (level, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{level}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_multilevel_level_elapsed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (level, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Time used by level",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The chance that level 0 (small) tasks are scheduled in the yatp thread pool.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 352,
=======
<<<<<<< HEAD
          "id": 327,
=======
          "id": 323,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_multilevel_level0_chance\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_multilevel_level0_chance\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Level 0 chance",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of concurrently running tasks in the yatp thread pool.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 353,
=======
<<<<<<< HEAD
          "id": 328,
=======
          "id": 324,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(avg_over_time(\n    tikv_scheduler_running_commands\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(avg_over_time(\n    tikv_scheduler_running_commands\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Running tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 354,
=======
<<<<<<< HEAD
          "id": 329,
=======
          "id": 325,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task execution time during one schedule.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 355,
=======
<<<<<<< HEAD
          "id": 330,
=======
          "id": 326,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_poll_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_poll_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Duration of One Time Slice",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task total execution duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 356,
=======
<<<<<<< HEAD
          "id": 331,
=======
          "id": 327,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_exec_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_exec_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Task Execute Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task schedule number of times.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 357,
=======
<<<<<<< HEAD
          "id": 332,
=======
          "id": 328,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_execute_times_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_execute_times_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sched-worker.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Task Schedule Times",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Scheduler Worker Pool",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 358,
=======
<<<<<<< HEAD
      "id": 333,
=======
      "id": 329,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of commands on each stage in commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 359,
=======
<<<<<<< HEAD
          "id": 334,
=======
          "id": 330,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "busy-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_too_busy_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{stage}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_stage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (stage, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler stage total",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 360,
=======
<<<<<<< HEAD
          "id": 335,
=======
          "id": 331,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_command_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_command_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_command_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_command_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_scheduler_command_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_command_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_scheduler_command_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_command_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_command_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_command_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler command duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time which is caused by latch wait in commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 361,
=======
<<<<<<< HEAD
          "id": 336,
=======
          "id": 332,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_latch_wait_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler latch wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of keys read by a commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 362,
=======
<<<<<<< HEAD
          "id": 337,
=======
          "id": 333,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_read_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_read_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_read_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_read_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_scheduler_kv_command_key_read_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_kv_command_key_read_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_scheduler_kv_command_key_read_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_kv_command_key_read_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_command_key_read_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_command_key_read_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler keys read",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of keys written by a commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 363,
=======
<<<<<<< HEAD
          "id": 338,
=======
          "id": 334,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_write_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_write_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_write_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_kv_command_key_write_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_scheduler_kv_command_key_write_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_kv_command_key_write_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_scheduler_kv_command_key_write_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_kv_command_key_write_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_command_key_write_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_command_key_write_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler keys written",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The keys scan details of each CF when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 364,
=======
<<<<<<< HEAD
          "id": 339,
=======
          "id": 335,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler scan details",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The keys scan details of lock CF when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 365,
=======
<<<<<<< HEAD
          "id": 340,
=======
          "id": 336,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"lock\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"lock\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler scan details [lock]",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The keys scan details of write CF when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 366,
=======
<<<<<<< HEAD
          "id": 341,
=======
          "id": 337,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"write\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"write\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler scan details [write]",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The keys scan details of default CF when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 367,
=======
<<<<<<< HEAD
          "id": 342,
=======
          "id": 338,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"default\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_kv_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=\"$command\", cf=\"default\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler scan details [default]",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed on reading when executing commit command",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 368,
=======
<<<<<<< HEAD
          "id": 343,
=======
          "id": 339,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_scheduler_processing_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scheduler command read duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed on checking memory locks",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 369,
=======
<<<<<<< HEAD
          "id": 344,
=======
          "id": 340,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_storage_check_mem_lock_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_storage_check_mem_lock_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Check memory locks duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        }
      ],
      "repeat": "command",
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Scheduler - $command",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 370,
=======
<<<<<<< HEAD
      "id": 345,
=======
      "id": 341,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed to handle coprocessor read requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 371,
=======
<<<<<<< HEAD
          "id": 346,
=======
          "id": 342,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Request duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed to handle coprocessor read requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 372,
=======
<<<<<<< HEAD
          "id": 347,
=======
          "id": 343,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Request duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 373,
=======
<<<<<<< HEAD
          "id": 348,
=======
          "id": 344,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 374,
=======
<<<<<<< HEAD
          "id": 349,
=======
          "id": 345,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (reason, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{reason}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_error\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (reason, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Request Errors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 375,
=======
<<<<<<< HEAD
          "id": 350,
=======
          "id": 346,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "KV Cursor Operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 376,
=======
<<<<<<< HEAD
          "id": 351,
=======
          "id": 347,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_scan_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_scan_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_scan_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_scan_keys_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_scan_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_scan_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_scan_keys_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_scan_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_keys_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "KV Cursor Operations",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 377,
=======
<<<<<<< HEAD
          "id": 352,
=======
          "id": 348,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"internal_delete_skipped_count\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "delete_skipped-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"internal_delete_skipped_count\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total RocksDB Perf Statistics",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 378,
=======
<<<<<<< HEAD
          "id": 353,
=======
          "id": 349,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_response_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_response_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Response Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total bytes of memory used by coprocessor requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 379,
=======
<<<<<<< HEAD
          "id": 354,
=======
          "id": 350,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_coprocessor_memory_quota\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum((\n    tikv_coprocessor_memory_quota\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory Quota",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Coprocessor Overview",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 380,
=======
<<<<<<< HEAD
      "id": 355,
=======
      "id": 351,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when handling coprocessor requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 381,
=======
<<<<<<< HEAD
          "id": 356,
=======
          "id": 352,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Handle duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed to handle coprocessor requests per TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 382,
=======
<<<<<<< HEAD
          "id": 357,
=======
          "id": 353,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}}-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}}-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_handle_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}}-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_handle_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance)  / sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_handle_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (req, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Handle duration by store",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when coprocessor requests are wait for being handled",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 383,
=======
<<<<<<< HEAD
          "id": 358,
=======
          "id": 354,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_wait_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_wait_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Wait duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when coprocessor requests are wait for being handled in each TiKV instance",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 384,
=======
<<<<<<< HEAD
          "id": 359,
=======
          "id": 355,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}}-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}}-{{instance}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_wait_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_wait_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance)  / sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}}-{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_wait_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance)  / sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_wait_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"all\"}\n    [$__rate_interval]\n)) by (req, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Wait duration by store",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 385,
=======
<<<<<<< HEAD
          "id": 360,
=======
          "id": 356,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_dag_request_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (vec_type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{vec_type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_dag_request_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (vec_type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total DAG Requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of DAG executors",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 386,
=======
<<<<<<< HEAD
          "id": 361,
=======
          "id": 357,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_executor_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_executor_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total DAG Executors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 387,
=======
<<<<<<< HEAD
          "id": 362,
=======
          "id": 358,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"select|select_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"select|select_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Ops Details (Table Scan)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 388,
=======
<<<<<<< HEAD
          "id": 363,
=======
          "id": 359,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"index|index_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"index|index_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Ops Details (Index Scan)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 389,
=======
<<<<<<< HEAD
          "id": 364,
=======
          "id": 360,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"select|select_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (cf, tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"select|select_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (cf, tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Ops Details by CF (Table Scan)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 390,
=======
<<<<<<< HEAD
          "id": 365,
=======
          "id": 361,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"index|index_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (cf, tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_scan_details\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"index|index_by_in_memory_engine\"}\n    [$__rate_interval]\n)) by (cf, tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Ops Details by CF (Index Scan)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed on checking memory locks for coprocessor requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 391,
=======
<<<<<<< HEAD
          "id": 366,
=======
          "id": 362,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory lock checking duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed on checking memory locks for coprocessor requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 392,
=======
<<<<<<< HEAD
          "id": 367,
=======
          "id": 363,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_mem_lock_check_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory lock checking duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Coprocessor Detail",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 393,
=======
<<<<<<< HEAD
      "id": 368,
=======
      "id": 364,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time used by each level in the yatp thread pool per second. Level 0 refers to small queries.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 394,
=======
<<<<<<< HEAD
          "id": 369,
=======
          "id": 365,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_multilevel_level_elapsed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (level, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{level}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_multilevel_level_elapsed\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (level, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Time used by level",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The chance that level 0 (small) tasks are scheduled in the yatp thread pool.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 395,
=======
<<<<<<< HEAD
          "id": 370,
=======
          "id": 366,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_multilevel_level0_chance\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_multilevel_level0_chance\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Level 0 chance",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of concurrently running tasks in the yatp thread pool.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 396,
=======
<<<<<<< HEAD
          "id": 371,
=======
          "id": 367,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(avg_over_time(\n    tikv_unified_read_pool_running_tasks\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (priority, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{priority}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(avg_over_time(\n    tikv_unified_read_pool_running_tasks\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (priority, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Running tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 397,
=======
<<<<<<< HEAD
          "id": 372,
=======
          "id": 368,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_yatp_pool_schedule_wait_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task execution time during one schedule.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 398,
=======
<<<<<<< HEAD
          "id": 373,
=======
          "id": 369,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_poll_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_poll_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_poll_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_poll_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Duration of One Time Slice",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task total execution duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 399,
=======
<<<<<<< HEAD
          "id": 374,
=======
          "id": 370,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_exec_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_exec_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_exec_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_exec_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Task Execute Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Task schedule number of times.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 400,
=======
<<<<<<< HEAD
          "id": 375,
=======
          "id": 371,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_yatp_task_execute_times_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_yatp_task_execute_times_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_yatp_task_execute_times_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_yatp_task_execute_times_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"unified-read.*\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Task Schedule Times",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Unified Read Pool",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 401,
=======
<<<<<<< HEAD
      "id": 376,
=======
      "id": 372,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of GC tasks processed by gc_worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 402,
=======
<<<<<<< HEAD
          "id": 377,
=======
          "id": 373,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gcworker_gc_tasks_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total-{{task}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gcworker_gc_tasks_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_gc_skipped_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "skipped-{{task}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_gc_skipped_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gcworker_gc_task_fail_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "failed-{{task}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gcworker_gc_task_fail_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (task, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_worker_too_busy\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "gcworker-too-busy {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_worker_too_busy\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing GC tasks",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 403,
=======
<<<<<<< HEAD
          "id": 378,
=======
          "id": 374,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_gcworker_gc_task_duration_vec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_gcworker_gc_task_duration_vec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_gcworker_gc_task_duration_vec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_gcworker_gc_task_duration_vec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_gcworker_gc_task_duration_vec_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_gcworker_gc_task_duration_vec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_gcworker_gc_task_duration_vec_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_gcworker_gc_task_duration_vec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gcworker_gc_task_duration_vec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gcworker_gc_task_duration_vec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"$command\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC tasks duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The GC duration",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 404,
=======
<<<<<<< HEAD
          "id": 379,
=======
          "id": 375,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(1,(\n    sum(rate(\n    tidb_tikvclient_gc_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "histogram_quantile(1,(\n    sum(rate(\n    tidb_tikvclient_gc_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TiDB GC seconds",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of TiDB GC worker actions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 405,
=======
<<<<<<< HEAD
          "id": 380,
=======
          "id": 376,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tidb_tikvclient_gc_worker_actions_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tidb_tikvclient_gc_worker_actions_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TiDB GC worker actions",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Progress of ResolveLocks, the first phase of GC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 406,
=======
<<<<<<< HEAD
          "id": 381,
=======
          "id": 377,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tidb_tikvclient_range_task_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=~\"resolve-locks.*\"}\n    \n)) by (result, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{result}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tidb_tikvclient_range_task_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=~\"resolve-locks.*\"}\n    \n)) by (result, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "ResolveLocks Progress",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Progress of TiKV's GC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 407,
=======
<<<<<<< HEAD
          "id": 382,
=======
          "id": 378,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum((\n    tikv_gcworker_autogc_processed_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"scan\"}\n    \n)) by (instance)  / sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    \n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(sum((\n    tikv_gcworker_autogc_processed_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"scan\"}\n    \n)) by (instance)  / sum((\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    \n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TiKV Auto GC Progress",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "keys / second",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 408,
=======
<<<<<<< HEAD
          "id": 383,
=======
          "id": 379,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_mvcc_gc_delete_versions_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_keys/s {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_mvcc_gc_delete_versions_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC speed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "SafePoint used for TiKV's Auto GC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 409,
=======
<<<<<<< HEAD
          "id": 384,
=======
          "id": 380,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_gcworker_autogc_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "max((\n    tikv_gcworker_autogc_safe_point\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\"}\n    \n)) by (instance, $additional_groupby) / (2^18)",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TiKV Auto GC SafePoint",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "dateTimeAsIso",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The lifetime of TiDB GC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 410,
=======
<<<<<<< HEAD
          "id": 385,
=======
          "id": 381,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tidb_tikvclient_gc_config\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=\"tikv_gc_life_time\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": null,
              "metric": "",
              "query": "max((\n    tidb_tikvclient_gc_config\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=\"tikv_gc_life_time\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC lifetime",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The interval of TiDB GC",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 411,
=======
<<<<<<< HEAD
          "id": 386,
=======
          "id": 382,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tidb_tikvclient_gc_config\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=\"tikv_gc_run_interval\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": null,
              "metric": "",
              "query": "max((\n    tidb_tikvclient_gc_config\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",type=\"tikv_gc_run_interval\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC interval",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Keys handled in GC compaction filter",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 412,
=======
<<<<<<< HEAD
          "id": 387,
=======
          "id": 383,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filtered\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_filtered {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filtered\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_skip\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_skipped {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_skip\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_mvcc_rollback\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_mvcc-rollback/mvcc-lock {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_mvcc_rollback\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_orphan_versions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_orphan-versions {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_orphan_versions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_perform\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_performed-times {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_perform\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_failure\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_failure-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_failure\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_met\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_mvcc-deletion-met {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_met\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_handled\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_mvcc-deletion-handled {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_handled\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_wasted\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}_mvcc-deletion-wasted {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gc_compaction_filter_mvcc_deletion_wasted\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (key_mode, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC in Compaction Filter",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "GC scan write details",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 413,
=======
<<<<<<< HEAD
          "id": 388,
=======
          "id": 384,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gcworker_gc_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"write\"}\n    [$__rate_interval]\n)) by (key_mode, tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}-{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gcworker_gc_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"write\"}\n    [$__rate_interval]\n)) by (key_mode, tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC scan write details",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "GC scan default details",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 414,
=======
<<<<<<< HEAD
          "id": 389,
=======
          "id": 385,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_gcworker_gc_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"default\"}\n    [$__rate_interval]\n)) by (key_mode, tag, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{key_mode}}-{{tag}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_gcworker_gc_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"default\"}\n    [$__rate_interval]\n)) by (key_mode, tag, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "GC scan default details",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "GC",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 415,
=======
<<<<<<< HEAD
      "id": 390,
=======
      "id": 386,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 416,
=======
<<<<<<< HEAD
          "id": 391,
=======
          "id": 387,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"waiter_manager.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{name}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"waiter_manager.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"deadlock_detect.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{name}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"deadlock_detect.*\"}\n    [$__rate_interval]\n)) by (instance, name) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Lock Manager Thread CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 417,
=======
<<<<<<< HEAD
          "id": 392,
=======
          "id": 388,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_lock_manager_task_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_lock_manager_task_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Lock Manager Handled tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 418,
=======
<<<<<<< HEAD
          "id": 393,
=======
          "id": 389,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_lock_manager_waiter_lifetime_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Waiter lifetime duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 419,
=======
<<<<<<< HEAD
          "id": 394,
=======
          "id": 390,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(max_over_time(\n    tikv_lock_manager_wait_table_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(max_over_time(\n    tikv_lock_manager_wait_table_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(max_over_time(\n    tikv_lock_wait_queue_entries_gauge_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(max_over_time(\n    tikv_lock_wait_queue_entries_gauge_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Lock Waiting Queue",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 420,
=======
<<<<<<< HEAD
          "id": 395,
=======
          "id": 391,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_lock_manager_detect_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_lock_manager_detect_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_lock_manager_detect_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_lock_manager_detect_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_lock_manager_detect_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_lock_manager_detect_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_lock_manager_detect_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_lock_manager_detect_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_lock_manager_detect_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_lock_manager_detect_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Deadlock detect duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 421,
=======
<<<<<<< HEAD
          "id": 396,
=======
          "id": 392,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_lock_manager_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_lock_manager_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Detect error",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 422,
=======
<<<<<<< HEAD
          "id": 397,
=======
          "id": 393,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(max_over_time(\n    tikv_lock_manager_detector_leader_heartbeat\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(max_over_time(\n    tikv_lock_manager_detector_leader_heartbeat\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30s]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Deadlock detector leader",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 423,
=======
<<<<<<< HEAD
          "id": 398,
=======
          "id": 394,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_pessimistic_lock_memory_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_pessimistic_lock_memory_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total pessimistic locks memory size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 424,
=======
<<<<<<< HEAD
          "id": 399,
=======
          "id": 395,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_in_memory_pessimistic_locking\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (result, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{result}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_in_memory_pessimistic_locking\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (result, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "In-memory pessimistic locking result",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of active keys and waiters.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 425,
=======
<<<<<<< HEAD
          "id": 400,
=======
          "id": 396,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_lock_wait_queue_entries_gauge_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_lock_wait_queue_entries_gauge_vec\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Pessimistic lock activities",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The length includes the entering transaction itself",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 426,
=======
<<<<<<< HEAD
          "id": 401,
=======
          "id": 397,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_lock_wait_queue_length_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_lock_wait_queue_length_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Lengths of lock wait queues when transaction enqueues",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration scan in-memory pessimistic locks with read lock",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 427,
=======
<<<<<<< HEAD
          "id": 402,
=======
          "id": 398,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_storage_mvcc_scan_lock_read_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "In-memory scan lock read duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Pessimistic Locking",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 428,
=======
<<<<<<< HEAD
      "id": 403,
=======
      "id": 399,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of tasks handled by worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 429,
=======
<<<<<<< HEAD
          "id": 404,
=======
          "id": 400,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_worker_handled_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_worker_handled_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Worker handled tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Current pending and running tasks of worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 430,
=======
<<<<<<< HEAD
          "id": 405,
=======
          "id": 401,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_worker_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_worker_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Worker pending tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of tasks handled by future_pool",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 431,
=======
<<<<<<< HEAD
          "id": 406,
=======
          "id": 402,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_futurepool_handled_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_futurepool_handled_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "FuturePool handled tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Current pending and running tasks of future_pool",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 432,
=======
<<<<<<< HEAD
          "id": 407,
=======
          "id": 403,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(avg_over_time(\n    tikv_futurepool_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(avg_over_time(\n    tikv_futurepool_pending_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "FuturePool pending tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Task",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 433,
=======
<<<<<<< HEAD
      "id": 408,
=======
      "id": 404,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of requests that TiKV sends to PD",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 434,
=======
<<<<<<< HEAD
          "id": 409,
=======
          "id": 405,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_pd_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_pd_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed by requests that TiKV sends to PD",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 435,
=======
<<<<<<< HEAD
          "id": 410,
=======
          "id": 406,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_pd_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_pd_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_pd_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby)  / sum(rate(\n    tikv_pd_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD request duration (average)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of PD heartbeat messages",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 436,
=======
<<<<<<< HEAD
          "id": 411,
=======
          "id": 407,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_pd_heartbeat_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_pd_heartbeat_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_pd_pending_heartbeat_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-pending",
              "metric": "",
              "query": "sum((\n    tikv_pd_pending_heartbeat_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD heartbeats",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total number of peers validated by the PD worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 437,
=======
<<<<<<< HEAD
          "id": 412,
=======
          "id": 408,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_pd_validate_peer_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_pd_validate_peer_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD validate peers",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of reconnection between TiKV and PD",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 438,
=======
<<<<<<< HEAD
          "id": 413,
=======
          "id": 409,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_pd_reconnect_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_pd_reconnect_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD reconnection",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The forward status of PD client",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 439,
=======
<<<<<<< HEAD
          "id": 414,
=======
          "id": 410,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_pd_request_forwarded\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{host}}",
              "metric": "",
              "query": "((\n    tikv_pd_request_forwarded\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "PD forward status",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of TSO requests waiting in the queue.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 440,
=======
<<<<<<< HEAD
          "id": 415,
=======
          "id": 411,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_pd_pending_tso_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_pd_pending_tso_request_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Pending TSO Requests",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "PD",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 441,
=======
<<<<<<< HEAD
      "id": 416,
=======
      "id": 412,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration that recorded by inspecting messages.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 442,
=======
<<<<<<< HEAD
          "id": 417,
=======
          "id": 413,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_inspect_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_inspect_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, type, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Inspected duration per server",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The slow score of stores",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 443,
=======
<<<<<<< HEAD
          "id": 418,
=======
          "id": 414,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_slow_score\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_slow_score\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Store Slow Score",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The changing trend of the slowness on I/O operations. 'value > 0' means the related store might have a slow trend.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 444,
=======
<<<<<<< HEAD
          "id": 419,
=======
          "id": 415,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_slow_trend\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_slow_trend\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Slow Trend",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The changing trend of QPS on each store. 'value < 0' means the QPS has a dropping trend.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 445,
=======
<<<<<<< HEAD
          "id": 420,
=======
          "id": 416,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_slow_trend_result\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_slow_trend_result\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "QPS Changing Trend",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The sampling latency of recent queries. A larger value indicates that the store is more likely to be the slowest store.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 446,
=======
<<<<<<< HEAD
          "id": 421,
=======
          "id": 417,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_slow_trend_l0\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_slow_trend_l0\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "AVG Sampling Latency",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The QPS of each store.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 447,
=======
<<<<<<< HEAD
          "id": 422,
=======
          "id": 418,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_slow_trend_result_value\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_slow_trend_result_value\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "QPS of each store",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Slow Trend Statistics",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 448,
=======
<<<<<<< HEAD
      "id": 423,
=======
      "id": 419,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The rate of Raft snapshot messages sent",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 449,
=======
<<<<<<< HEAD
          "id": 424,
=======
          "id": 420,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [1m]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_raftstore_raft_sent_message_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [1m]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Rate snapshot message",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of snapshots in different states",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 450,
=======
<<<<<<< HEAD
          "id": 425,
=======
          "id": 421,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_raftstore_snapshot_traffic_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_raftstore_snapshot_traffic_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snapshot state count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time snapshot generation/apply tasks spent waiting to be executed.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 451,
=======
<<<<<<< HEAD
          "id": 426,
=======
          "id": 422,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_generation_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-generate-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_generation_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_apply_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-apply-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_apply_wait_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snapshot generation/apply wait duration $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when handling snapshots",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 452,
=======
<<<<<<< HEAD
          "id": 427,
=======
          "id": 423,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_send_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "send-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_server_send_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "apply-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"generate\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "generate-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_raftstore_snapshot_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"generate\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Handle snapshot duration $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The snapshot size (P99.99).9999",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 453,
=======
<<<<<<< HEAD
          "id": 428,
=======
          "id": 424,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_snapshot_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "size {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_snapshot_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99.99% Snapshot size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of KV within a snapshot in .9999",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 454,
=======
<<<<<<< HEAD
          "id": 429,
=======
          "id": 425,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_snapshot_kv_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_snapshot_kv_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "99.99% Snapshot KV count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Action stats for snapshot generating and applying",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 455,
=======
<<<<<<< HEAD
          "id": 430,
=======
          "id": 426,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_raftstore_snapshot_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, status, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{status}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_raftstore_snapshot_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, status, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_raftstore_clean_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, status, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "clean-region-by-{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_raftstore_clean_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, status, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_server_snapshot_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_server_snapshot_task_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snapshot Actions",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The speed of sending or receiving snapshot",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 456,
=======
<<<<<<< HEAD
          "id": 431,
=======
          "id": 427,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_snapshot_limit_transport_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!~\"send\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_snapshot_limit_transport_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!~\"send\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_snapshot_limit_generate_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"io\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-generate-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_snapshot_limit_generate_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"io\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snapshot transport speed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of snapshots waiting to be applied",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 457,
=======
<<<<<<< HEAD
          "id": 432,
=======
          "id": 428,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_raftstore_snapshot_pending_applies\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_raftstore_snapshot_pending_applies\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Snapshot pending applies",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Snapshot",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 458,
=======
<<<<<<< HEAD
      "id": 433,
=======
      "id": 429,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of resolved ts worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 459,
=======
<<<<<<< HEAD
          "id": 434,
=======
          "id": 430,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"resolved_ts.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"resolved_ts.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resolved TS Worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of advance ts worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 460,
=======
<<<<<<< HEAD
          "id": 435,
=======
          "id": 431,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"advance_ts.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"advance_ts.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Advance ts Worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of scan lock worker",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 461,
=======
<<<<<<< HEAD
          "id": 436,
=======
          "id": 432,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"inc_scan.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"inc_scan.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scan lock Worker CPU",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The gap between resolved ts (the maximum candidate of safe-ts) and current time.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 462,
=======
<<<<<<< HEAD
          "id": 437,
=======
          "id": 433,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_resolved_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_resolved_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Max gap of resolved-ts",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The region that has minimal resolved ts",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 463,
=======
<<<<<<< HEAD
          "id": 438,
=======
          "id": 434,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_resolved_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_resolved_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Min Resolved TS Region",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The gap between now() and the minimal (non-zero) safe ts for followers",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 464,
=======
<<<<<<< HEAD
          "id": 439,
=======
          "id": 435,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_follower_safe_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_follower_safe_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Max gap of follower safe-ts",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The region id of the follower that has minimal safe ts",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 465,
=======
<<<<<<< HEAD
          "id": 440,
=======
          "id": 436,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_follower_safe_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_follower_safe_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Min Safe TS Follower Region",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The gap between resolved ts of leaders and current time",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 466,
=======
<<<<<<< HEAD
          "id": 441,
=======
          "id": 437,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_leader_resolved_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_leader_resolved_ts_gap_millis\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Max gap of resolved-ts in region leaders",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The region that its leader has minimal resolved ts.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 467,
=======
<<<<<<< HEAD
          "id": 442,
=======
          "id": 438,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_min_leader_resolved_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_min_leader_resolved_ts_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Min Leader Resolved TS Region",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when handle a check leader request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 468,
=======
<<<<<<< HEAD
          "id": 443,
=======
          "id": 439,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_resolved_ts_check_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_resolved_ts_check_leader_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Check leader duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Bucketed histogram of region count in a check leader request",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 469,
=======
<<<<<<< HEAD
          "id": 444,
=======
          "id": 440,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_item_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_item_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CheckLeader request region count $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Bucketed histogram of the check leader request size",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 470,
=======
<<<<<<< HEAD
          "id": 445,
=======
          "id": 441,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_item_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-check-num-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_check_leader_request_item_count_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CheckLeader request size $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The count of fail to advance resolved-ts",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 471,
=======
<<<<<<< HEAD
          "id": 446,
=======
          "id": 442,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_resolved_ts_fail_advance_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{reason}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_resolved_ts_fail_advance_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_raftstore_check_stale_peer\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-stale-peer",
              "metric": "",
              "query": "sum(delta(\n    tikv_raftstore_check_stale_peer\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Fail advance ts count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total bytes in memory of resolved-ts observe regions's lock heap",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 472,
=======
<<<<<<< HEAD
          "id": 447,
=======
          "id": 443,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_resolved_ts_lock_heap_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "avg((\n    tikv_resolved_ts_lock_heap_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Lock heap size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The backoff duration before starting initial scan",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 473,
=======
<<<<<<< HEAD
          "id": 448,
=======
          "id": 444,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_resolved_ts_initial_scan_backoff_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_resolved_ts_initial_scan_backoff_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial scan backoff duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The status of resolved-ts observe regions",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 474,
=======
<<<<<<< HEAD
          "id": 449,
=======
          "id": 445,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resolved_ts_region_resolve_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_resolved_ts_region_resolve_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Observe region status",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total bytes of pending commands in the channel",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 475,
=======
<<<<<<< HEAD
          "id": 450,
=======
          "id": 446,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "avg((\n    tikv_resolved_ts_channel_pending_cmd_bytes_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "avg((\n    tikv_resolved_ts_channel_pending_cmd_bytes_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Pending command size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Resolved TS",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 476,
=======
<<<<<<< HEAD
      "id": 451,
=======
      "id": 447,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 477,
=======
<<<<<<< HEAD
          "id": 452,
=======
          "id": 448,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 478,
=======
<<<<<<< HEAD
          "id": 453,
=======
          "id": 449,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_apply_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"queue|exec_download\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "(DL){{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_apply_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"queue|exec_download\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "(AP){{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "RPC Duration $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 479,
=======
<<<<<<< HEAD
          "id": 454,
=======
          "id": 450,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (instance, request) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{request}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (instance, request) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request!=\"switch_mode\"}\n    [$__rate_interval]\n)) by (request) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total-{{request}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request!=\"switch_mode\"}\n    [$__rate_interval]\n)) by (request) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import RPC Ops",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 480,
=======
<<<<<<< HEAD
          "id": 455,
=======
          "id": 451,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_import_rpc_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_import_rpc_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import RPC Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 481,
=======
<<<<<<< HEAD
          "id": 456,
=======
          "id": 452,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_apply_cache_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_apply_cache_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cache Events",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "cps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 482,
=======
<<<<<<< HEAD
          "id": 457,
=======
          "id": 453,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Overall RPC Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 483,
=======
<<<<<<< HEAD
          "id": 458,
=======
          "id": 454,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_apply_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"exec_download\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_apply_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"exec_download\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read File into Memory Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 484,
=======
<<<<<<< HEAD
          "id": 459,
=======
          "id": 455,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"queuing\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"queuing\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Queuing Time",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 485,
=======
<<<<<<< HEAD
          "id": 460,
=======
          "id": 456,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_apply_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_apply_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply Request Throughput",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 486,
=======
<<<<<<< HEAD
          "id": 461,
=======
          "id": 457,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_download_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_download_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Downloaded File Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 487,
=======
<<<<<<< HEAD
          "id": 462,
=======
          "id": 458,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_apply_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_apply_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply Batch Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 488,
=======
<<<<<<< HEAD
          "id": 463,
=======
          "id": 459,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"get_permit\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"get_permit\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Blocked by Concurrency Time",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 489,
=======
<<<<<<< HEAD
          "id": 464,
=======
          "id": 460,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_applier_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"begin_req\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_applier_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"begin_req\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply Request Speed",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 490,
=======
<<<<<<< HEAD
          "id": 465,
=======
          "id": 461,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_import_apply_cached_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_import_apply_cached_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cached File in Memory",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 491,
=======
<<<<<<< HEAD
          "id": 466,
=======
          "id": 462,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_applier_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"begin_req\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_applier_event\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type!=\"begin_req\"}\n    [$__rate_interval]\n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Engine Requests Unfinished",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 492,
=======
<<<<<<< HEAD
          "id": 467,
=======
          "id": 463,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_engine_request_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"apply\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Apply Time",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 493,
=======
<<<<<<< HEAD
          "id": 468,
=======
          "id": 464,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_server_mem_trace_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftstore-.*\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_server_mem_trace_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"raftstore-.*\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Raft Store Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Point In Time Restore",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 494,
=======
<<<<<<< HEAD
      "id": 469,
=======
      "id": 465,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 495,
=======
<<<<<<< HEAD
          "id": 470,
=======
          "id": 466,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"b.*k.*w.*k.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "backup-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"b.*k.*w.*k.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"backup_io\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "backup-io-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"backup_io\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_backup_softlimit\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "backup-auto-throttle-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_backup_softlimit\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup CPU Utilization",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 496,
=======
<<<<<<< HEAD
          "id": 471,
=======
          "id": 467,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_backup_thread_pool_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_backup_thread_pool_size\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Thread Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 497,
=======
<<<<<<< HEAD
          "id": 472,
=======
          "id": 468,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_backup_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, error) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{error}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_backup_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, error) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Errors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 498,
=======
<<<<<<< HEAD
          "id": 473,
=======
          "id": 469,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_backup_range_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_backup_range_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Write CF SST Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 7
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 499,
=======
<<<<<<< HEAD
          "id": 474,
=======
          "id": 470,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_backup_range_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"default\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_backup_range_size_bytes_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",cf=\"default\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Default CF SST Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "bytes",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 500,
=======
<<<<<<< HEAD
          "id": 475,
=======
          "id": 471,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_backup_range_size_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total",
              "metric": "",
              "query": "sum(rate(\n    tikv_backup_range_size_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_backup_range_size_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, cf) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{cf}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_backup_range_size_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, cf) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup SST Generation Throughput",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 501,
=======
<<<<<<< HEAD
          "id": 476,
=======
          "id": 472,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"snapshot\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Scan SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 502,
=======
<<<<<<< HEAD
          "id": 477,
=======
          "id": 473,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"scan\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"scan\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Scan SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 14
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 503,
=======
<<<<<<< HEAD
          "id": 478,
=======
          "id": 474,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"save.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"save.*\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup Save SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 504,
=======
<<<<<<< HEAD
          "id": 479,
=======
          "id": 475,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.999,(\n    sum(rate(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-99.9% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.999,(\n    sum(rate(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-$optional_quantile {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_backup_range_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum((\n    tikv_backup_range_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby)  / sum((\n    tikv_backup_range_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum((\n    tikv_backup_range_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby)  / sum((\n    tikv_backup_range_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (type, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Backup SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 505,
=======
<<<<<<< HEAD
          "id": 480,
=======
          "id": 476,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "External Storage Create Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 506,
=======
<<<<<<< HEAD
          "id": 481,
=======
          "id": 477,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_external_storage_create_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_external_storage_create_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_external_storage_create_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_external_storage_create_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_external_storage_create_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_external_storage_create_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_external_storage_create_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "External Storage Create Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 507,
=======
<<<<<<< HEAD
          "id": 482,
=======
          "id": 478,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_coprocessor_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_coprocessor_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_coprocessor_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby)  / sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",req=~\"analyze.*|checksum.*\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Checksum Request Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 508,
=======
<<<<<<< HEAD
          "id": 483,
=======
          "id": 479,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    node_disk_io_time_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, device) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{device}}",
              "metric": "",
              "query": "sum(rate(\n    node_disk_io_time_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, device) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "IO Utilization",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 509,
=======
<<<<<<< HEAD
          "id": 484,
=======
          "id": 480,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "import-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance, tid) > 0",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "import-{{instance}}-{{tid}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance, tid) > 0",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "count(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "import-count-{{instance}}",
              "metric": "",
              "query": "count(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import CPU Utilization",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 510,
=======
<<<<<<< HEAD
          "id": 485,
=======
          "id": 481,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "count(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "count(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"sst_.*\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Thread Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 511,
=======
<<<<<<< HEAD
          "id": 486,
=======
          "id": 482,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_import_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, error, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{error}}-{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_import_error_counter\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, error, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Errors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 512,
=======
<<<<<<< HEAD
          "id": 487,
=======
          "id": 483,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{request}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{request}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_import_rpc_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby)  / sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{request}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_import_rpc_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby)  / sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{request}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import RPC Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 513,
=======
<<<<<<< HEAD
          "id": 488,
=======
          "id": 484,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request!=\"switch_mode\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{request}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_rpc_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request!=\"switch_mode\"}\n    [$__rate_interval]\n)) by (request, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import RPC Ops",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 42
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 514,
=======
<<<<<<< HEAD
          "id": 489,
=======
          "id": 485,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_import_rpc_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_import_rpc_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import RPC Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 515,
=======
<<<<<<< HEAD
          "id": 490,
=======
          "id": 486,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=~\"download|write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=~\"download|write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Write/Download RPC Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 516,
=======
<<<<<<< HEAD
          "id": 491,
=======
          "id": 487,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"queue\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"queue\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 517,
=======
<<<<<<< HEAD
          "id": 492,
=======
          "id": 488,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"read\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"read\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Read SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 518,
=======
<<<<<<< HEAD
          "id": 493,
=======
          "id": 489,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"rewrite\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_download_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"rewrite\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Rewrite SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 56
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 519,
=======
<<<<<<< HEAD
          "id": 494,
=======
          "id": 490,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=~\"ingest\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_rpc_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",request=~\"ingest\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Ingest RPC Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 56
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 520,
=======
<<<<<<< HEAD
          "id": 495,
=======
          "id": 491,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_ingest_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"ingest\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_ingest_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=~\"ingest\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Ingest SST Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 56
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 521,
=======
<<<<<<< HEAD
          "id": 496,
=======
          "id": 492,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_import_ingest_byte_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_import_ingest_byte_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Ingest SST Bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 522,
=======
<<<<<<< HEAD
          "id": 497,
=======
          "id": 493,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_download_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_download_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_download_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "total",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_download_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Download SST Throughput",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 523,
=======
<<<<<<< HEAD
          "id": 498,
=======
          "id": 494,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_import_local_write_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_import_local_write_keys\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Local Write keys",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 524,
=======
<<<<<<< HEAD
          "id": 499,
=======
          "id": 495,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_import_local_write_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_import_local_write_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Import Local Write bytes",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 525,
=======
<<<<<<< HEAD
          "id": 500,
=======
          "id": 496,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_backup_raw_expired_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_backup_raw_expired_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_backup_raw_expired_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "sum",
              "metric": "",
              "query": "sum((\n    tikv_backup_raw_expired_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL Expired",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 526,
=======
<<<<<<< HEAD
          "id": 501,
=======
          "id": 497,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_cloud_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cloud, req) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cloud}}-{{req}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_cloud_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (cloud, req) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "cloud request",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Backup & Import",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 527,
=======
<<<<<<< HEAD
      "id": 502,
=======
      "id": 498,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "red",
                      "index": null,
                      "text": "Disabled"
                    },
                    "1": {
                      "color": "green",
                      "index": null,
                      "text": "Enabled"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 528,
=======
<<<<<<< HEAD
          "id": 503,
=======
          "id": 499,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_log_backup_enabled\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ instance }}",
              "metric": "",
              "query": "((\n    tikv_log_backup_enabled\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Endpoint Status",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": null,
                      "text": "Running"
                    },
                    "1": {
                      "color": "yellow",
                      "index": null,
                      "text": "Paused"
                    },
                    "2": {
                      "color": "red",
                      "index": null,
                      "text": "Error"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 529,
=======
<<<<<<< HEAD
          "id": 504,
=======
          "id": 500,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "min((\n    tikv_log_backup_task_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "min((\n    tikv_log_backup_task_status\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Task Status",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 530,
=======
<<<<<<< HEAD
          "id": 505,
=======
          "id": 501,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "name"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "tidb_log_backup_advancer_owner > 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ instance }}",
              "metric": "",
              "query": "tidb_log_backup_advancer_owner > 0",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Advancer Owner",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The average flush size of last 30mins.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 531,
=======
<<<<<<< HEAD
          "id": 506,
=======
          "id": 502,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(increase(\n    tikv_log_backup_flush_file_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance)  / sum(increase(\n    tikv_log_backup_flush_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [30m]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ instance }}",
              "metric": "",
              "query": "(sum(increase(\n    tikv_log_backup_flush_file_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance)  / sum(increase(\n    tikv_log_backup_flush_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [30m]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Average Flush Size",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The current total flushed file number of this run.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": 0,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 532,
=======
<<<<<<< HEAD
          "id": 507,
=======
          "id": 503,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_flush_file_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) > 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_flush_file_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) > 0",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flushed Files (Last 30m) Per Host",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "This is the summary of the file count has been flushed, summered by the data each TiKV has flushed since last boot.\n**NOTE: The size may get reduced if some of TiKVs reboot.**",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": 0,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 533,
=======
<<<<<<< HEAD
          "id": 508,
=======
          "id": 504,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_flush_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [30m]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_flush_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [30m]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flush Times (Last 30m)",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "This is the summary of the size has been flushed, summered by the data each TiKV has flushed since last boot.\n**NOTE: The size may get reduced if some of TiKVs reboot.**",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 534,
=======
<<<<<<< HEAD
          "id": 509,
=======
          "id": 505,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_flush_file_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_flush_file_size_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Flushed Size (Last 30m)",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "This is the summary of the file count has been flushed, summered by the data each TiKV has flushed since last boot.\n**NOTE: The size may get reduced if some of TiKVs reboot.**",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": 0,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 535,
=======
<<<<<<< HEAD
          "id": 510,
=======
          "id": 506,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_flush_file_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_flush_file_size_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [30m]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flush Files (Last 30m)",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The CPU utilization of log backup threads. \n**(Note this is the average usage for a period of time, some peak of CPU usage may be lost.)**",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 536,
=======
<<<<<<< HEAD
          "id": 511,
=======
          "id": 507,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"backup_stream|log-backup-scan(-[0-9]+)?\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_thread_cpu_seconds_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",name=~\"backup_stream|log-backup-scan(-[0-9]+)?\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 537,
=======
<<<<<<< HEAD
          "id": 512,
=======
          "id": 508,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_handle_kv_batch_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_handle_kv_batch_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Handle Event Rate",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The data rate of initial scanning emitting events.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 538,
=======
<<<<<<< HEAD
          "id": 513,
=======
          "id": 509,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_incremental_scan_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_incremental_scan_bytes_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial Scan Generate Event Throughput",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 539,
=======
<<<<<<< HEAD
          "id": 514,
=======
          "id": 510,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(time() * 1000 - max((\n    tidb_log_backup_last_checkpoint\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (task) / 262144 > 0)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ task }}",
              "metric": "",
              "query": "(time() * 1000 - max((\n    tidb_log_backup_last_checkpoint\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (task) / 262144 > 0)",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Abnormal Checkpoint TS Lag",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The estimated memory usage by the streaming backup module.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 540,
=======
<<<<<<< HEAD
          "id": 515,
=======
          "id": 511,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_log_backup_heap_memory\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_log_backup_heap_memory\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory Of Events",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 541,
=======
<<<<<<< HEAD
          "id": 516,
=======
          "id": 512,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_log_backup_observed_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_log_backup_observed_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_log_backup_observed_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-total",
              "metric": "",
              "query": "sum((\n    tikv_log_backup_observed_region\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Observed Region Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The errors met when backing up.\n**They are retryable, don't worry.**",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 542,
=======
<<<<<<< HEAD
          "id": 517,
=======
          "id": 513,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_errors\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_errors\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Errors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The errors met when backing up.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 543,
=======
<<<<<<< HEAD
          "id": 518,
=======
          "id": 514,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(delta(\n    tikv_log_backup_fatal_errors\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}-{{instance}}",
              "metric": "",
              "query": "sum(delta(\n    tikv_log_backup_fatal_errors\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [1m]\n)) by (type, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Fatal Errors",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "opm",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 35
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 544,
=======
<<<<<<< HEAD
          "id": 519,
=======
          "id": 515,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "Current Time",
              "bars": false,
              "dashes": true,
              "fill": 0,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tidb_log_backup_last_checkpoint\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (task) / 262144 > 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{task}}",
              "metric": "",
              "query": "max((\n    tidb_log_backup_last_checkpoint\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (task) / 262144 > 0",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "time() * 1000",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Current Time",
              "metric": "",
              "query": "time() * 1000",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Checkpoint TS of Tasks",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "dateTimeAsIsoNoDateIfToday",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of flushing a batch of file.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 545,
=======
<<<<<<< HEAD
          "id": 520,
=======
          "id": 516,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_flush_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_flush_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_files\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Flush Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of scanning the initial data from local DB and transform them into apply events.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 546,
=======
<<<<<<< HEAD
          "id": 521,
=======
          "id": 517,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_initial_scan_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_initial_scan_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial scanning duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of converting a raft request into a apply event.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 547,
=======
<<<<<<< HEAD
          "id": 522,
=======
          "id": 518,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"to_stream_event\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"to_stream_event\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Convert Raft Event duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of waiting the mutex of the controller.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 42
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 548,
=======
<<<<<<< HEAD
          "id": 523,
=======
          "id": 519,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"get_router_lock\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"get_router_lock\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Wait for Lock Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The number of KV-modify of each raft command observed.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 0,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 549,
=======
<<<<<<< HEAD
          "id": 524,
=======
          "id": 520,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_handle_kv_batch_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_handle_kv_batch_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Command Batch Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total cost of saving an event into temporary file.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 6,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 550,
=======
<<<<<<< HEAD
          "id": 525,
=======
          "id": 521,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_to_temp_file\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_event_handle_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=~\"save_to_temp_file\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Save to Temp File Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The total cost of writing a event into temporary file.\nComparing to the ***Save*** duration, it doesn't contain the time cost of routing the task by range / task.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 12,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 551,
=======
<<<<<<< HEAD
          "id": 526,
=======
          "id": 522,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_on_event_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=\"write_to_tempfile\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_on_event_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=\"write_to_tempfile\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Write to Temp File Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The duration of collecting metadata and call the UNIX system call *write* for each event.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 6,
            "x": 18,
            "y": 49
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 552,
=======
<<<<<<< HEAD
          "id": 527,
=======
          "id": 523,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tikv_log_backup_on_event_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=\"syscall_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tikv_log_backup_on_event_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",stage=\"syscall_write\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "System Write Call Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal message type count.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 553,
=======
<<<<<<< HEAD
          "id": 528,
=======
          "id": 524,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{message}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Internal Message Type",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal handling message duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 554,
=======
<<<<<<< HEAD
          "id": 529,
=======
          "id": 525,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{message}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Internal Message Handling Duration $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal handling message duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 56
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 555,
=======
<<<<<<< HEAD
          "id": 530,
=======
          "id": 526,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9,(\n    sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{message}}",
              "metric": "",
              "query": "histogram_quantile(0.9,(\n    sum(rate(\n    tikv_log_backup_internal_actor_acting_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (message, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Internal Message Handling Duration (P90)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal read throughput of RocksDB during initial scanning. This panel can roughly present the read through to the hard disk of initial scanning.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 556,
=======
<<<<<<< HEAD
          "id": 531,
=======
          "id": 527,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_initial_scan_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=~\"read_bytes\"}\n    [$__rate_interval]\n)) by (cf) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_initial_scan_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op=~\"read_bytes\"}\n    [$__rate_interval]\n)) by (cf) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial Scan RocksDB Throughput",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Misc statistics of RocksDB during initial scanning.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 63
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 557,
=======
<<<<<<< HEAD
          "id": 532,
=======
          "id": 528,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_initial_scan_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op!~\"read_bytes\"}\n    [$__rate_interval]\n)) by (cf, op) > 0",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{cf}}-{{op}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_initial_scan_operations\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",op!~\"read_bytes\"}\n    [$__rate_interval]\n)) by (cf, op) > 0",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial Scan RocksDB Operation",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The reason of triggering initial scanning.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 558,
=======
<<<<<<< HEAD
          "id": 533,
=======
          "id": 529,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_initial_scan_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_initial_scan_reason\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial Scanning Trigger Reason",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The task status of initial scanning.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 559,
=======
<<<<<<< HEAD
          "id": 534,
=======
          "id": 530,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_log_backup_pending_initial_scan\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (stage) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{stage}}",
              "metric": "",
              "query": "sum((\n    tikv_log_backup_pending_initial_scan\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (stage) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Initial Scanning Task Status",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 70
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 560,
=======
<<<<<<< HEAD
          "id": 535,
=======
          "id": 531,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_log_backup_metadata_key_operation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_log_backup_metadata_key_operation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Checkpoint Key Putting",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "cps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 77
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 561,
=======
<<<<<<< HEAD
          "id": 536,
=======
          "id": 532,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tidb_log_backup_advancer_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"checkpoint\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tidb_log_backup_advancer_batch_size_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"checkpoint\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Request Checkpoint Batch Size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "none",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "cacheTimeout": null,
          "cards": {
            "cardPadding": null,
            "cardRound": null
          },
          "color": {
            "cardColor": "#b4ff00",
            "colorScale": "sqrt",
            "colorScheme": "interpolateSpectral",
            "exponent": 0.5,
            "max": null,
            "min": null,
            "mode": "spectrum"
          },
          "dataFormat": "tsbuckets",
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 77
          },
          "heatmap": {},
          "height": null,
          "hideTimeOverride": false,
          "hideZeroBuckets": true,
          "highlightCards": true,
<<<<<<< HEAD
          "id": 562,
=======
<<<<<<< HEAD
          "id": 537,
=======
          "id": 533,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "legend": {
            "show": false
          },
          "links": [],
          "maxDataPoints": 512,
          "maxPerRow": null,
          "minSpan": null,
          "options": {},
          "repeat": null,
          "repeatDirection": null,
          "reverseYBuckets": false,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(increase(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"tick\"}\n    [$__rate_interval]\n)) by (le) ",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "metric": "",
              "query": "sum(increase(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"tick\"}\n    [$__rate_interval]\n)) by (le) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Tick Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "show": true,
            "showHistogram": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "heatmap",
          "xAxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "xBucketNumber": null,
          "xBucketSize": null,
          "yAxis": {
            "decimals": 1,
            "format": "s",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          },
          "yBucketBound": "upper",
          "yBucketNumber": null,
          "yBucketSize": null
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The reason of advancer failed to be advanced.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 563,
=======
<<<<<<< HEAD
          "id": 538,
=======
          "id": 534,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tidb_log_backup_region_request_failure\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason!=\"retryable-scan-region\"}\n    [$__rate_interval]\n)) by (reason) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{reason}}",
              "metric": "",
              "query": "sum(rate(\n    tidb_log_backup_region_request_failure\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",reason!=\"retryable-scan-region\"}\n    [$__rate_interval]\n)) by (reason) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Region Checkpoint Failure Reason",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The result of getting region checkpoints.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 84
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 564,
=======
<<<<<<< HEAD
          "id": 539,
=======
          "id": 535,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tidb_log_backup_region_request\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (result) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{result}}",
              "metric": "",
              "query": "sum(rate(\n    tidb_log_backup_region_request\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (result) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Request Result",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal handling message duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 565,
=======
<<<<<<< HEAD
          "id": 540,
=======
          "id": 536,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (step, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{step}}-$optional_quantile",
              "metric": "",
              "query": "histogram_quantile($optional_quantile,(\n    sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (step, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Tick Duration $optional_quantile",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The internal handling message duration.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 91
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 566,
=======
<<<<<<< HEAD
          "id": 541,
=======
          "id": 537,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9,(\n    sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (step, le) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ step }}",
              "metric": "",
              "query": "histogram_quantile(0.9,(\n    sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (step, le) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Tick Duration (P90)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The frequent of getting region level checkpoint.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 98
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 567,
=======
<<<<<<< HEAD
          "id": 542,
=======
          "id": 538,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"get-regions-in-range\"}\n    [$__rate_interval]\n)) by (step, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{step}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"get-regions-in-range\"}\n    [$__rate_interval]\n)) by (step, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Get Region Operation Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The variant of checkpoint group.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 98
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 568,
=======
<<<<<<< HEAD
          "id": 543,
=======
          "id": 539,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"try-advance\"}\n    [$__rate_interval]\n)) by (step, instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{step}}-{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tidb_log_backup_advancer_tick_duration_sec_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",step=\"try-advance\"}\n    [$__rate_interval]\n)) by (step, instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Try Advance Trigger Time",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Backup Log",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 569,
=======
<<<<<<< HEAD
      "id": 544,
=======
      "id": 540,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 570,
=======
<<<<<<< HEAD
          "id": 545,
=======
          "id": 541,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_threads_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, state) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{state}}",
              "metric": "",
              "query": "sum((\n    tikv_threads_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, state) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_threads_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-total",
              "metric": "",
              "query": "sum((\n    tikv_threads_state\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Threads state",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 571,
=======
<<<<<<< HEAD
          "id": 546,
=======
          "id": 542,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    sum(rate(\n    tikv_threads_io_bytes_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, io) > 1024\n    \n    \n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}} {{$additional_groupby}}",
              "metric": "",
              "query": "topk(20,(\n    sum(rate(\n    tikv_threads_io_bytes_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name, io) > 1024\n    \n    \n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Threads IO",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 572,
=======
<<<<<<< HEAD
          "id": 547,
=======
          "id": 543,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    max(rate(\n    tikv_thread_voluntary_context_switches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name) > 100\n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}",
              "metric": "",
              "query": "topk(20,(\n    max(rate(\n    tikv_thread_voluntary_context_switches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name) > 100\n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Thread Voluntary Context Switches",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 573,
=======
<<<<<<< HEAD
          "id": 548,
=======
          "id": 544,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "topk(20,(\n    max(rate(\n    tikv_thread_nonvoluntary_context_switches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name) > 100\n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}",
              "metric": "",
              "query": "topk(20,(\n    max(rate(\n    tikv_thread_nonvoluntary_context_switches\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (name) > 100\n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Thread Nonvoluntary Context Switches",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Threads",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 574,
=======
<<<<<<< HEAD
      "id": 549,
=======
      "id": 545,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 575,
=======
<<<<<<< HEAD
          "id": 550,
=======
          "id": 546,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_allocator_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{type}}",
              "metric": "",
              "query": "sum((\n    tikv_allocator_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, type) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Allocator Stats",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 576,
=======
<<<<<<< HEAD
          "id": 551,
=======
          "id": 547,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"alloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby)  - sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"dealloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{thread_name}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"alloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby)  - sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"dealloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Send Allocated(+) / Release Received(-) Bytes Rate",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "binBps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 577,
=======
<<<<<<< HEAD
          "id": 552,
=======
          "id": 548,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"alloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{thread_name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"alloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Allocated Bytes Rate per Thread",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 578,
=======
<<<<<<< HEAD
          "id": 553,
=======
          "id": 549,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"dealloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{thread_name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_allocator_thread_allocation\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"dealloc\"}\n    [$__rate_interval]\n)) by (thread_name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Released Bytes Rate per Thread",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 579,
=======
<<<<<<< HEAD
          "id": 554,
=======
          "id": 550,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_allocator_thread_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"mapped\"}\n    \n)) by (thread_name, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{thread_name}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum((\n    tikv_allocator_thread_stats\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"mapped\"}\n    \n)) by (thread_name, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Mapped Allocation per Thread",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 580,
=======
<<<<<<< HEAD
          "id": 555,
=======
          "id": 551,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_allocator_arena_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_allocator_arena_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Arena Count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Memory",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 581,
=======
<<<<<<< HEAD
      "id": 556,
=======
      "id": 552,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 582,
=======
<<<<<<< HEAD
          "id": 557,
=======
          "id": 553,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_resource_control_background_task_wait_duration\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, resource_group) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{resource_group}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_resource_control_background_task_wait_duration\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance, resource_group) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Background Task Total Wait Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The memory usage of the resource control module.",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 583,
=======
<<<<<<< HEAD
          "id": 558,
=======
          "id": 554,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_resource_control_priority_quota_limit\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, priority) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}-{{priority}}",
              "metric": "",
              "query": "sum((\n    tikv_resource_control_priority_quota_limit\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance, priority) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Priority Quota Limit",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "\u00b5s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Resource Control",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 584,
=======
<<<<<<< HEAD
      "id": 559,
=======
      "id": 555,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The 99 quantile durtion of status server API requests",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 585,
=======
<<<<<<< HEAD
          "id": 560,
=======
          "id": 556,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_status_server_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99%-{{path}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_status_server_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_status_server_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99%-{{path}} {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_status_server_request_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_status_server_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby)  / sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) )",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg-{{path}} {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_status_server_request_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby)  / sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count-{{path}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Status API Request Duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 586,
=======
<<<<<<< HEAD
          "id": 561,
=======
          "id": 557,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{path}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_status_server_request_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (path, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Status API Request (op/s)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Status Server",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 587,
=======
<<<<<<< HEAD
      "id": 562,
=======
      "id": 558,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total number of encryption data keys in use",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 588,
=======
<<<<<<< HEAD
          "id": 563,
=======
          "id": 559,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_encryption_data_key_storage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_encryption_data_key_storage_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Encryption data keys",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Number of files being encrypted",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 589,
=======
<<<<<<< HEAD
          "id": 564,
=======
          "id": 560,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum((\n    tikv_encryption_file_num\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum((\n    tikv_encryption_file_num\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Encrypted files",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Flag to indicate if encryption is initialized",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 590,
=======
<<<<<<< HEAD
          "id": 565,
=======
          "id": 561,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_encryption_is_initialized\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "((\n    tikv_encryption_is_initialized\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Encryption initialized",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Total size of encryption meta files",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 591,
=======
<<<<<<< HEAD
          "id": 566,
=======
          "id": 562,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "((\n    tikv_encryption_meta_file_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{name}}-{{instance}}",
              "metric": "",
              "query": "((\n    tikv_encryption_meta_file_size_bytes\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Encryption meta files size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 592,
=======
<<<<<<< HEAD
          "id": 567,
=======
          "id": 563,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"encrypt_data_nanos\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "encrypt-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"encrypt_data_nanos\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"decrypt_data_nanos\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "decrypt-{{req}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_coprocessor_rocksdb_perf\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",metric=\"decrypt_data_nanos\"}\n    [$__rate_interval]\n)) by (req, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Encrypt/decrypt data nanos",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "Writing or reading file duration (second)",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 593,
=======
<<<<<<< HEAD
          "id": 568,
=======
          "id": 564,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": true,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_encryption_write_read_file_duration_seconds_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "Read/write encryption meta duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Encryption",
      "transformations": [],
      "transparent": false,
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "collapsed": true,
      "datasource": null,
      "description": null,
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": []
          }
        }
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "height": null,
      "hideTimeOverride": false,
<<<<<<< HEAD
      "id": 594,
=======
<<<<<<< HEAD
      "id": 569,
=======
      "id": 565,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
      "interval": null,
      "links": [],
      "maxDataPoints": 100,
      "maxPerRow": null,
      "minSpan": null,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 595,
=======
<<<<<<< HEAD
          "id": 570,
=======
          "id": 566,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_ttl_expire_kv_count_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_ttl_expire_kv_count_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL expire count",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 596,
=======
<<<<<<< HEAD
          "id": 571,
=======
          "id": 567,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_ttl_expire_kv_size_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_ttl_expire_kv_size_total\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL expire size",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 597,
=======
<<<<<<< HEAD
          "id": 572,
=======
          "id": 568,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_ttl_checker_processed_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    [$__rate_interval]\n)) by (instance) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_ttl_checker_processed_regions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (instance)  / sum(rate(\n    tikv_raftstore_region_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"region\"}\n    [$__rate_interval]\n)) by (instance) )",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL check progress",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 598,
=======
<<<<<<< HEAD
          "id": 573,
=======
          "id": 569,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_ttl_checker_actions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_ttl_checker_actions\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (type, $additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL checker actions",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ops",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": "The time consumed when executing GC tasks",
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            }
          },
          "fill": 1,
          "fillGradient": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 599,
=======
<<<<<<< HEAD
          "id": 574,
=======
          "id": 570,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "maxPerRow": null,
          "minSpan": null,
          "nullPointMode": "null as zero",
          "options": {
            "alertThreshold": true,
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": null,
          "repeatDirection": null,
          "seriesOverrides": [
            {
              "alias": "/^count/",
              "bars": false,
              "dashLength": 1,
              "dashes": true,
              "fill": 2,
              "fillBelowTo": null,
              "lines": true,
              "spaceLength": 1,
              "transform": "negative-Y",
              "yaxis": 2,
              "zindex": -3
            },
            {
              "alias": "/^avg/",
              "bars": false,
              "fill": 7,
              "fillBelowTo": null,
              "lines": true,
              "yaxis": 1,
              "zindex": 0
            }
          ],
          "span": null,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_ttl_checker_compact_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99.99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.9999,(\n    sum(rate(\n    tikv_ttl_checker_compact_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_ttl_checker_compact_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "99% {{$additional_groupby}}",
              "metric": "",
              "query": "histogram_quantile(0.99,(\n    sum(rate(\n    tikv_ttl_checker_compact_duration_bucket\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by (le, $additional_groupby) \n    \n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "(sum(rate(\n    tikv_ttl_checker_compact_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_ttl_checker_compact_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "avg {{$additional_groupby}}",
              "metric": "",
              "query": "(sum(rate(\n    tikv_ttl_checker_compact_duration_sum\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby)  / sum(rate(\n    tikv_ttl_checker_compact_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) )",
              "refId": "",
              "step": 10,
              "target": ""
            },
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "sum(rate(\n    tikv_ttl_checker_compact_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "count {{$additional_groupby}}",
              "metric": "",
              "query": "sum(rate(\n    tikv_ttl_checker_compact_duration_count\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\"}\n    [$__rate_interval]\n)) by ($additional_groupby) ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL checker compact duration",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [],
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": 0
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "${DS_TEST-CLUSTER}",
          "description": null,
          "editable": true,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "decimals": null,
              "mappings": null,
              "noValue": "none",
              "thresholds": {
                "mode": "absolute",
                "steps": ""
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "height": null,
          "hideTimeOverride": false,
<<<<<<< HEAD
          "id": 600,
=======
<<<<<<< HEAD
          "id": 575,
=======
          "id": 571,
>>>>>>> 52028cf7d (review comments)
>>>>>>> 6d3390a58 (review comments)
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "maxPerRow": null,
          "minSpan": null,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "repeat": null,
          "repeatDirection": null,
          "span": null,
          "targets": [
            {
              "datasource": "${DS_TEST-CLUSTER}",
              "expr": "max((\n    tikv_ttl_checker_poll_interval\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"tikv_gc_run_interval\"}\n    \n))  ",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": null,
              "metric": "",
              "query": "max((\n    tikv_ttl_checker_poll_interval\n    {k8s_cluster=\"$k8s_cluster\",tidb_cluster=\"$tidb_cluster\",instance=~\"$instance\",type=\"tikv_gc_run_interval\"}\n    \n))  ",
              "refId": "",
              "step": 10,
              "target": ""
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "TTL checker poll interval",
          "transformations": [],
          "transparent": false,
          "type": "stat"
        }
      ],
      "repeat": null,
      "repeatDirection": null,
      "span": null,
      "targets": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "TTL",
      "transformations": [],
      "transparent": false,
      "type": "row"
    }
  ],
  "refresh": "1m",
  "rows": [],
  "schemaVersion": 14,
  "sharedCrosshair": false,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 2,
        "includeAll": false,
        "label": "k8s_cluster",
        "multi": false,
        "name": "k8s_cluster",
        "options": [],
        "query": "label_values(tikv_engine_block_cache_size_bytes, k8s_cluster)",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 2,
        "includeAll": false,
        "label": "tidb_cluster",
        "multi": false,
        "name": "tidb_cluster",
        "options": [],
        "query": "label_values(tikv_engine_block_cache_size_bytes{k8s_cluster =\"$k8s_cluster\"}, tidb_cluster)",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 0,
        "includeAll": true,
        "label": "db",
        "multi": true,
        "name": "db",
        "options": [],
        "query": "label_values(tikv_engine_block_cache_size_bytes{k8s_cluster=\"$k8s_cluster\", tidb_cluster=\"$tidb_cluster\"}, db)",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 0,
        "includeAll": true,
        "label": "command",
        "multi": true,
        "name": "command",
        "options": [],
        "query": "query_result(tikv_storage_command_total{k8s_cluster=\"$k8s_cluster\", tidb_cluster=\"$tidb_cluster\"} != 0)",
        "refresh": 2,
        "regex": "/\\btype=\"([^\"]+)\"/",
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": ".*",
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 0,
        "includeAll": true,
        "label": "instance",
        "multi": true,
        "name": "instance",
        "options": [],
        "query": "label_values(tikv_engine_size_bytes{k8s_cluster =\"$k8s_cluster\", tidb_cluster=\"$tidb_cluster\"}, instance)",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "tags": [],
          "text": null,
          "value": null
        },
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 2,
        "includeAll": true,
        "label": "titan_db",
        "multi": true,
        "name": "titan_db",
        "options": [],
        "query": "label_values(tikv_engine_titandb_num_live_blob_file{k8s_cluster=\"$k8s_cluster\", tidb_cluster=\"$tidb_cluster\"}, db)",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {},
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 0,
        "includeAll": false,
        "label": "additional_groupby",
        "multi": false,
        "name": "additional_groupby",
        "options": [
          {
            "selected": false,
            "text": "none",
            "value": "none"
          },
          {
            "selected": false,
            "text": "instance",
            "value": "instance"
          }
        ],
        "query": "none,instance",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "custom",
        "useTags": false
      },
      {
        "allValue": null,
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {},
        "datasource": "${DS_TEST-CLUSTER}",
        "hide": 0,
        "includeAll": false,
        "label": "optional_quantile",
        "multi": false,
        "name": "optional_quantile",
        "options": [
          {
            "selected": false,
            "text": "0.99",
            "value": "0.99"
          },
          {
            "selected": false,
            "text": "0.999",
            "value": "0.999"
          },
          {
            "selected": false,
            "text": "0.9999",
            "value": "0.9999"
          },
          {
            "selected": false,
            "text": "0.99999",
            "value": "0.99999"
          },
          {
            "selected": false,
            "text": "1",
            "value": "1"
          }
        ],
        "query": "0.99,0.999,0.9999,0.99999,1",
        "refresh": 2,
        "regex": null,
        "sort": 1,
        "tagValuesQuery": null,
        "tagsQuery": null,
        "type": "custom",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "hidden": false,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Test-Cluster-TiKV-Details",
  "uid": "RDVQiEzZz",
  "version": 0
}
